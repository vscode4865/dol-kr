:: Widgets Actions Left Hand [widget]
<<widget "leftdefault">>
<<if $lefttarget isnot "self">>
	<<set _leftaction["쓰다듬는다"] to "leftchest">>
	<<if $consensual isnot 1 and ($fightTargets is undefined or $fightTargets.includes($lefttarget))>>
		<<set _leftaction["때린다"] to "lefthit">>
	<</if>>
<</if>>
<<if $lefttarget is "self" or $options.targetYourself is false or _targetnumber is 1>>
	<<set _leftaction["등 뒤로 둔다"] to "behind">>
	<<leftcoverface>>
<</if>>
<</widget>>

<<widget "leftcoverface">>
	<<set _leftaction["얼굴을 가린다"] to "leftcoverface">>
<</widget>>

<<widget "leftcamerapose">>
	<<if $audiencecamera1 isnot 0>>
		<<set _leftaction["카메라에 포즈를 취한다"] to "leftcamerapose">>
	<</if>>
<</widget>>

<<widget "lefthandpull">>
	<<if $lefttarget isnot "self">>
		<<if ($NPCList[$lefttarget].lefthand and $NPCList[$lefttarget].lefthand.startsWith("penis"))
		or ($NPCList[$lefttarget].righthand and $NPCList[$lefttarget].righthand.startsWith("penis"))>>
			<<set _leftaction[$NPCList[$lefttarget].pronouns.his + " 손을 당신의 자지에서 떼어낸다"] to "handpullpenis">>
		<</if>>

		<<if ($NPCList[$lefttarget].lefthand and $NPCList[$lefttarget].lefthand.startsWith("vagina"))
		or ($NPCList[$lefttarget].righthand and $NPCList[$lefttarget].righthand.startsWith("vagina"))>>
			<<set _leftaction[$NPCList[$lefttarget].pronouns.his + " 손을 당신의 보지에서 떼어낸다"] to "handpullvagina">>
		<</if>>

		<<if ($NPCList[$lefttarget].lefthand and $NPCList[$lefttarget].lefthand.startsWith("anus"))
		or ($NPCList[$lefttarget].righthand and $NPCList[$lefttarget].righthand.startsWith("anus"))>>
			<<set _leftaction[$NPCList[$lefttarget].pronouns.his + " 손을 당신의 엉덩이에서 떼어낸다"] to "handpullanus">>
		<</if>>
	<</if>>
<</widget>>

<!-- Deprecated, not in use. See "leftgrabnew"-->
<<widget "leftgrab">>

<<if $combattype is "train">>
	<<set _end to $enemyno-1>>
<<else>>
	<<set _end to 0>>
<</if>>

<<for _j = $enemyno-1; _j gte _end; _j-->>
	<<if $NPCList[_j].penis is 0>>
		<<if $consensual is 1 and $promiscuity lte 34 and $enemytype is "man" or $consensual is 1 and $deviancy lte 34 and $enemytype isnot "man">>
		<!-- Do Nothing -->
		<<else>>
			<<if $leftactiondefault is "leftgrab">>
				| <label><span class="sub"><<hisPost "의">> 자지를 잡는다</span> <<radiobutton "$leftaction" "leftgrab" checked>><<handdifficulty>> <<combatpromiscuous3>></label>
			<<else>>
				| <label><span class="sub"><<hisPost "의">> 자지를 잡는다</span> <<radiobutton "$leftaction" "leftgrab">><<handdifficulty>> <<combatpromiscuous3>></label>
			<</if>>
		<</if>>
		<<if $leftactiondefault is "leftstroke">>
			| <label><span class="sub"><<hisPost "의">> 자지를 쓰다듬는다</span> <<radiobutton "$leftaction" "leftstroke" checked>></label>
			<<break>>
		<<else>>
			| <label><span class="sub"><<hisPost "의">> 자지를 쓰다듬는다</span> <<radiobutton "$leftaction" "leftstroke">></label>
			<<break>>
		<</if>>
	<</if>>
<</for>>

<</widget>>

<<widget "leftgrabnew">>
<<if $lefttarget isnot "self">>
	<<set $_target to $NPCList[$lefttarget]>>
	<<if $_target.penis is 0>>
		<<set $_penis to (npcHasStrapon($lefttarget) ? "페니스 밴드 자지" : "자지")>>
		<<if $consensual is 1 and ($enemytype is "man" ? $promiscuity : $deviancy) lte 34 and !$promiscuityIgnore>>
		<!-- Do Nothing -->
		<<else>>
			<<if $_target.chastity.penis.includes("chastity")>>
				<<trClothes "genitals" $_target.chastity.penis "name" "을">><<set _leftaction[$_target.pronouns.his + " " + $_penis + "를 " + _trResult + " 통해서 희롱한다"] to "leftgrab">>
			<<else>>
				<<set _leftaction[$_target.pronouns.his + " " + $_penis + "를 잡는다"] to "leftgrab">>
			<</if>>
		<</if>>
		<<if $_target.chastity.penis.includes("chastity")>>
			<<trClothes "genitals" $_target.chastity.penis "name" "을">><<set _leftaction[$_target.pronouns.his + " " + $_penis + "를 " + _trResult + " 통해서 쓰다듬는다"] to "leftstroke">>
		<<else>>
			<<set _leftaction[$_target.pronouns.his + " " + $_penis + "를 쓰다듬는다"] to "leftstroke">>
		<</if>>
	<</if>>
<</if>>
<</widget>>

<!-- Deprecated, not in use. See "leftplaynew"-->
<<widget "leftplay">>

<<if $combattype is "train">>
	<<set _end to $enemyno-1>>
<<else>>
	<<set _end to 0>>
<</if>>

<<if $consensual is 1 and $promiscuity lte 34 and $enemytype is "man" or $consensual is 1 and $deviancy lte 34 and $enemytype isnot "man">>
	<!-- Do Nothing -->
<<else>>
	<<for _j = $enemyno-1; _j gte _end; _j-->>
		<<if $NPCList[_j].vagina is 0>>
			<<if $leftactiondefault is "leftplay">>
				| <label><span class="sub"><<hisPost "의">> 보지를 만지작거린다</span> <<radiobutton "$leftaction" "leftplay" checked>><<handdifficulty>> <<combatpromiscuous3>></label>
			<<else>>
				| <label><span class="sub"><<hisPost "의">> 보지를 만지작거린다</span> <<radiobutton "$leftaction" "leftplay">><<handdifficulty>> <<combatpromiscuous3>></label>
			<</if>>
			<<break>>
		<</if>>
	<</for>>
<</if>>

<</widget>>

<<widget "leftplaynew">>
<<if $lefttarget isnot "self">>
	<<set $_target to $NPCList[$lefttarget]>>
	<<if $consensual is 1 and ($enemytype is "man" ? $promiscuity : $deviancy) lte 34 and !$promiscuityIgnore>>
		<!-- Do Nothing -->
	<<else>>
		<<if $_target.vagina is 0>>
			<<if $_target.chastity.vagina.includes("chastity")>>
				<<trClothes "genitals" $_target.chastity.vagina "name" "을">><<set _leftaction[$_target.pronouns.his + " 보지를 " + _trResult + " 통해서 만지작거린다"] to "leftplay">>
			<<else>>
				<<set _leftaction[$_target.pronouns.his + " 보지를 만지작거린다"] to "leftplay">>
			<</if>>
		<</if>>
	<</if>>
<</if>>
<</widget>>

<!-- Deprecated, not in use. See "leftclothesnew"-->
/*
<<widget "leftclothes">>

<<if $worn.upper.state is setup.clothes.upper[clothesIndex('upper', $worn.upper)].state_base and $worn.upper.state_top is setup.clothes.upper[clothesIndex('upper', $worn.upper)].state_top_base and !$worn.upper.type.includes("naked")>>
	<<if $leftactiondefault is "upper">>
	| <label><<trClothes "upper" $worn.upper.name "name" "을">>_trResult 벗는다. <<radiobutton "$leftaction" "upper" checked>></label>
	<<else>>
	| <label><<trClothes "upper" $worn.upper.name "name" "을">>_trResult 벗는다. <<radiobutton "$leftaction" "upper">></label>
	<</if>>
<</if>>

<<if $worn.under_upper.state is setup.clothes.under_upper[clothesIndex('under_upper', $worn.under_upper)].state_base and $worn.under_upper.state_top is setup.clothes.under_upper[clothesIndex('under_upper', $worn.under_upper)].state_top_base and !$worn.under_upper.type.includes("naked")>>
	<<if $leftactiondefault is "under_upper">>
	| <label><<trClothes "under_upper" $worn.under_upper.name "name" "을">>_trResult 벗는다. <<radiobutton "$leftaction" "under_upper" checked>></label>
	<<else>>
	| <label><<trClothes "under_upper" $worn.under_upper.name "name" "을">>_trResult 벗는다. <<radiobutton "$leftaction" "under_upper">></label>
	<</if>>
<</if>>

<<if $worn.lower.state is setup.clothes.lower[clothesIndex('lower', $worn.lower)].state_base and setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt isnot 1 and !$worn.lower.type.includes("naked")>>
	<<if $leftactiondefault is "lower">>
	| <label><<trClothes "lower" $worn.lower.name "name" "을">>_trResult 벗는다. <<radiobutton "$leftaction" "lower" checked>></label>
	<<else>>
	| <label><<trClothes "lower" $worn.lower.name "name" "을">>_trResult 벗는다. <<radiobutton "$leftaction" "lower">></label>
	<</if>>
<<elseif setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1 and $worn.lower.skirt_down is 1>>
	<<if $leftactiondefault is "lower">>
	| <label><<trClothes "lower" $worn.lower.name "name" "을">>_trResult 벗는다. <<radiobutton "$leftaction" "lower" checked>></label>
	<<else>>
	| <label><<trClothes "lower" $worn.lower.name "name" "을">>_trResult 벗는다. <<radiobutton "$leftaction" "lower">></label>
	<</if>>
<</if>>

<<if $worn.under_lower.state is setup.clothes.under_lower[clothesIndex('under_lower', $worn.under_lower)].state_base and !$worn.under_lower.type.includes("naked")>>
	<<if $worn.lower.state isnot setup.clothes.lower[clothesIndex('lower', $worn.lower)].state_base or setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1 or $worn.lower.type.includes("naked")>>
		<<if $leftactiondefault is "under">>
		| <label><<trClothes "under_lower" $worn.under_lower.name "name" "을">>_trResult 벗는다. <<radiobutton "$leftaction" "under" checked>></label>
		<<else>>
		| <label><<trClothes "under_lower" $worn.under_lower.name "name" "을">>_trResult 벗는다. <<radiobutton "$leftaction" "under">></label>
		<</if>>
	<</if>>
<</if>>

<</widget>>
*/

<<widget "leftclothesnew">>
<<if $lefttarget is "self" or $options.targetYourself is false or _targetnumber is 1>>
	<<if $worn.over_upper.state is setup.clothes.over_upper[clothesIndex('over_upper', $worn.over_upper)].state_base and $worn.over_upper.state_top is setup.clothes.over_upper[clothesIndex('over_upper', $worn.over_upper)].state_top_base and !$worn.over_upper.type.includes("naked")>>
		<<trClothes "over_upper" $worn.over_upper.name "name" "을">><<set _leftaction[_trResult+" 벗는다"] to "over_upper">>
	<</if>>

	<<if $worn.upper.state is setup.clothes.upper[clothesIndex('upper', $worn.upper)].state_base and $worn.upper.state_top is setup.clothes.upper[clothesIndex('upper', $worn.upper)].state_top_base and !$worn.upper.type.includes("naked")>>
		<<trClothes "upper" $worn.upper.name "name" "을">><<set _leftaction[_trResult+" 벗는다"] to "upper">>
	<</if>>

	<<if $worn.under_upper.state is setup.clothes.under_upper[clothesIndex('under_upper', $worn.under_upper)].state_base and $worn.under_upper.state_top is setup.clothes.under_upper[clothesIndex('under_upper', $worn.under_upper)].state_top_base and !$worn.under_upper.type.includes("naked")>>
		<<trClothes "under_upper" $worn.under_upper.name "name" "을">><<set _leftaction[_trResult+" 벗는다"] to "under_upper">>
	<</if>>

	<<if $worn.over_lower.state is setup.clothes.over_lower[clothesIndex('over_lower', $worn.over_lower)].state_base and setup.clothes.over_lower[clothesIndex('over_lower', $worn.over_lower)].skirt isnot 1 and !$worn.over_lower.type.includes("naked")>>
		<<trClothes "over_lower" $worn.over_lower.name "name" "을">><<set _leftaction[_trResult+" 벗는다"] to "over_lower">>
	<<elseif setup.clothes.over_lower[clothesIndex('over_lower', $worn.over_lower)].skirt is 1 and $worn.over_lower.skirt_down is 1>>
		<<trClothes "over_lower" $worn.over_lower.name "name" "을">><<set _leftaction[_trResult+" 벗는다"] to "over_lower">>
	<</if>>

	<<if $worn.lower.state is setup.clothes.lower[clothesIndex('lower', $worn.lower)].state_base and setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt isnot 1 and !$worn.lower.type.includes("naked")>>
		<<trClothes "lower" $worn.lower.name "name" "을">><<set _leftaction[_trResult+" 벗는다"] to "lower">>
	<<elseif setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1 and $worn.lower.skirt_down is 1>>
		<<trClothes "lower" $worn.lower.name "name" "을">><<set _leftaction[_trResult+" 벗는다"] to "lower">>
	<</if>>

	<<if $worn.under_lower.state is setup.clothes.under_lower[clothesIndex('under_lower', $worn.under_lower)].state_base and !$worn.under_lower.type.includes("naked") and !($penisstate isnot 0 and playerHasStrapon())>>
		<<if $worn.lower.state isnot setup.clothes.lower[clothesIndex('lower', $worn.lower)].state_base or setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1 or $worn.lower.type.includes("naked")>>
			<<trClothes "under_lower" $worn.under_lower.name "name" "을">><<set _leftaction[_trResult+" 벗는다"] to "under_lower">>
		<</if>>
	<</if>>

	<<if $worn.face.state is setup.clothes.face[clothesIndex('face', $worn.face)].state_base and !$worn.face.type.includes("naked") and $worn.face.type.includes("mask")>>
			<<trClothes "face" $worn.face.name "name" "을">><<set _leftaction[_trResult+" 벗는다"] to "mask">>
	<</if>>
<</if>>
<</widget>>

<!-- Deprecated, not in use. See "leftspraynew"-->
<<widget "leftspray">>
<<if $consensual isnot 1 and $spray gte 1>>
	<<if $leftactiondefault is "spray">>
	| <label><span class="def">페퍼 스프레이</span> <span class="black">남은 용량:</span> $spray / $spraymax <<radiobutton "$leftaction" "spray" checked>></label>
	<<else>>
	| <label><span class="def">페퍼 스프레이</span> <span class="black">남은 용량:</span> $spray / $spraymax <<radiobutton "$leftaction" "spray">></label>
	<</if>>
<</if>>
<</widget>>

<<widget "leftspraynew">>
<<if $lefttarget isnot "self">>
	<<if $consensual isnot 1 and $spray gte 1 and $NPCList.some(npc => npc.health >= 0 && (!$fightTargets || $fightTargets.includes(npc.index)))>>
		<<set _leftaction["페퍼 스프레이"] to "spray">>
	<</if>>
<</if>>
<</widget>>

<!-- Deprecated, not in use. See "leftstealnew"-->
<<widget "leftsteal">>
<<if (currentSkillValue('skulduggery') gte 200 or $easySteal is 1) gte 200 and $stealstateleft isnot 3 and $enemytype is "man" and $abomination isnot 1 and $npc.length is 0 and $water isnot 1 and $punishmentposition isnot "gloryhole">>
	<<set $skulduggerydifficulty to 1000 - ($enemyarousal / $enemyarousalmax * 400) - $skulduggery - $enemytrust + $enemyanger>>
	<<if $easySteal is 1>><<set $skulduggerydifficulty to 0>><</if>>
	<<if $leftactiondefault is "steal">>
	| <label><span class="brat">훔치기</span> <<radiobutton "$leftaction" "steal" checked>> <<skulduggerydifficulty>><<combatcrime>></label>
	<<else>>
	| <label><span class="brat">훔치기</span> <<radiobutton "$leftaction" "steal">> <<skulduggerydifficulty>><<combatcrime>></label>
	<</if>>
<</if>>
<</widget>>

<<widget "leftstealnew">>
<<if $lefttarget isnot "self" and !($stealtarget.includes($lefttarget))>>
	<<if (currentSkillValue('skulduggery') gte 200 or $easySteal is 1) and $enemytype is "man" and $abomination isnot 1 and !($npcrow.includes($lefttarget)) and $water isnot 1 and $punishmentposition isnot "gloryhole">>
		<<set $skulduggerydifficulty to (1000 - ($enemyarousal / $enemyarousalmax * 400) - $skulduggery - $enemytrust + $enemyanger) * $stealdifficulty>>
		<<if $easySteal is 1>><<set $skulduggerydifficulty to 0>><</if>>
		/*Missing <<skulduggerydifficulty>><<combatcrime>>*/
		<<if $stealstateleft is undefined>>
			<<set _leftaction["훔치기"] to "steal">>
		<<elseif $stealstateleft is 2>>
			<<set _leftaction[$NPCList[$lefttarget].pronouns.his + " 소유물을 가져간다"] to "steal">>
		<<else>>
			<<set _leftaction["계속 훔치려고 한다"] to "steal">>
		<</if>>
	<</if>>
<</if>>
<</widget>>

<!-- Deprecated, not in use. See "leftpenwhacknew"-->
<<widget "leftpenwhack">>
<<if $NPCList[0].lefthand is "pen" or $NPCList[0].righthand is "pen" or
$NPCList[1].lefthand is "pen" or $NPCList[1].righthand is "pen" or
$NPCList[2].lefthand is "pen" or $NPCList[2].righthand is "pen" or
$NPCList[3].lefthand is "pen" or $NPCList[3].righthand is "pen" or
$NPCList[4].lefthand is "pen" or $NPCList[4].righthand is "pen" or
$NPCList[5].lefthand is "pen" or $NPCList[5].righthand is "pen">>
	<<if $leftactiondefault is "penwhack">>
	| <label><span class="brat">필기도구를 친다</span> <<radiobutton "$leftaction" "penwhack" checked>></label>
	<<else>>
	| <label><span class="brat">필기도구를 친다</span> <<radiobutton "$leftaction" "penwhack">></label>
	<</if>>
<</if>>
<</widget>>

<<widget "leftpenwhacknew">>
<<if $lefttarget isnot "self">>
	<<set $_target to $NPCList[$lefttarget]>>
	<<if $_target.lefthand and ($_target.lefthand is "pen" or $_target.lefthand.startsWith("pen_")) or $_target.righthand and ($_target.righthand is "pen" or $_target.righthand.startsWith("pen_"))>>
		<<set _leftaction["필기도구를 친다"] to "penwhack">>
	<</if>>
<</if>>
<</widget>>

<<widget "leftshacklewhack">>
<<if $lefttarget isnot "self">>
	<<if $NPCList[$lefttarget].lefthand is "shackle_entrance" or $NPCList[$lefttarget].lefthand is "shackle_imminent" or $NPCList[$lefttarget].righthand is "shackle_entrance" or $NPCList[$lefttarget].righthand is "shackle_imminent">>
		<<set _leftaction["족쇄를 친다"] to "shacklewhack">>
	<</if>>
<</if>>
<</widget>>

<<widget "lefthypnosiswhack">>
<<if $lefttarget isnot "self">>
	<<set $_target to $NPCList[$lefttarget]>>
	<<if $_target.lefthand and ($_target.lefthand is "hypnosis" or $_target.lefthand.startsWith("hypnosis_")) or $_target.righthand and ($_target.righthand is "hypnosis" or $_target.righthand.startsWith("hypnosis_"))>>
		<<set _leftaction["최면도구를 친다"] to "hypnosiswhack">>
	<</if>>
<</if>>
<</widget>>

<<widget "leftdildowhack">>
<<if $lefttarget isnot "self">>
	<<if $NPCList[$lefttarget].lefthand is "dildo" or $NPCList[$lefttarget].righthand is "dildo">>
		<<if getSexToysofType("all").includes($NPCList[$lefttarget].lefttool)>>
			<<silently>><<lefttoolPost $lefttarget "을">><</silently>><<set _leftaction[_trResult +" 친다"] to "dildowhack">>
		<<elseif getSexToysofType("all").includes($NPCList[$lefttarget].righttool)>>
			<<silently>><<righttoolPost $lefttarget "을">><</silently>><<set _leftaction[_trResult +" 친다"] to "dildowhack">>
		<</if>>
	<</if>>
<</if>>
<</widget>>

<<widget "leftFixAndCoverActions">>
<<if $worn.lower.vagina_exposed is 1 and $worn.under_lower.vagina_exposed is 1>>
	<<if $NPCList[0].state is "stalk" and $NPCList[0].legs isnot "run">>
		<<if $vaginause is "cover">>
			<<set _leftaction["계속 보지를 가린다"] to "leftcovervaginameek">>
		<<elseif $vaginause is 0>>
			<<set _leftaction["보지를 가린다"] to "leftcovervaginameek">>
		<</if>>
	<<elseif $lefttarget is "self" or $options.targetYourself is false or _targetnumber is 1 or $NPCList[0].state is "stalk">>
		<<if $vaginause is "cover">>
			<<set _leftaction["계속 보지를 가린다"] to "leftcovervagina">>
		<<elseif $vaginause is 0>>
			<<set _leftaction["보지를 가린다"] to "leftcovervagina">>
		<</if>>
	<</if>>
<</if>>

<<if $worn.lower.vagina_exposed is 1 and $worn.under_lower.vagina_exposed is 1>>
	<<set _penis to playerHasStrapon() ? '페니스 밴드 자지' : '자지'>>
	<<set _straponDisplaced to (!playerHasStrapon() && $worn.under_lower.type.includes("strap-on"))>>
	<<if $NPCList[0].state is "stalk" and $NPCList[0].legs isnot "run">>
		<<if $penisuse is "cover">>
			<<set _leftaction["계속 " + _penis + "를 가린다"] to "leftcoverpenismeek">>
		<<elseif $penisuse is 0>>
			<<if !_straponDisplaced>>
				<<set _leftaction[_penis + "를 가린다"] to "leftcoverpenismeek">>
			<</if>>
		<</if>>
	<<elseif $lefttarget is "self" or $options.targetYourself is false or _targetnumber is 1 or $NPCList[0].state is "stalk">>
		<<if $penisuse is "cover">>
			<<set _leftaction["계속 " + _penis + "를 가린다"] to "leftcoverpenis">>
		<<elseif $penisuse is 0>>
			<<if !_straponDisplaced>>
				<<set _leftaction[_penis + "를 가린다"] to "leftcoverpenis">>
			<</if>>
		<</if>>
	<</if>>
<</if>>

<<if $worn.lower.anus_exposed is 1 and $worn.under_lower.anus_exposed is 1>>
	<<if $NPCList[0].state is "stalk" and $NPCList[0].legs isnot "run">>
		<<if $anususe is "cover">>
			<<set _leftaction["계속 엉덩이를 가린다"] to "leftcoveranusmeek">>
		<<else>>
			<<set _leftaction["엉덩이를 가린다"] to "leftcoveranusmeek">>
		<</if>>
	<<elseif $lefttarget is "self" or $options.targetYourself is false or _targetnumber is 1 or $NPCList[0].state is "stalk">>
		<<if $anususe is "cover">>
			<<set _leftaction["계속 엉덩이를 가린다"] to "leftcoveranus">>
		<<else>>
			<<set _leftaction["엉덩이를 가린다"] to "leftcoveranus">>
		<</if>>
	<</if>>
<</if>>

<<if $lefttarget is "self" or $options.targetYourself is false or _targetnumber is 1>>
	<<if $worn.under_lower.name isnot "naked">>
		<<if $worn.under_lower.state is "thighs" or $worn.under_lower.state is "knees" or $worn.under_lower.state is "ankles">>
			<<trClothes "under_lower" $worn.under_lower.name "name" "을">><<set _leftaction[_trResult+" 올린다"] to "leftunderpull">>
		<</if>>
	<</if>>

	<<if setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1>>
		<<if $worn.lower.skirt_down is 0>>
			<<if $worn.lower.state is "waist">>
				<<trClothes "lower" $worn.lower.name "name" "으로">><<set _leftaction["가랑이를 " + _trResult + " 가린다"] to "leftskirtpull">>
			<</if>>
		<</if>>
	<</if>>

	<<if $worn.lower.name isnot "naked">>
		<<if $worn.upper.set is $worn.lower.set>>
			<<if $worn.lower.state isnot setup.clothes.lower[clothesIndex('lower', $worn.lower)].state_base and $worn.upper.state is setup.clothes.upper[clothesIndex('upper', $worn.upper)].state_base and $worn.upper.state_top is setup.clothes.upper[clothesIndex('upper', $worn.upper)].state_top_base>>
				<<trClothes "lower" $worn.lower.name "name" "을">><<set _leftaction[_trResult+ " 고쳐입는다"] to "leftlowerpull">>
			<</if>>
		<<elseif $worn.lower.state isnot setup.clothes.lower[clothesIndex('lower', $worn.lower)].state_base>>
			<<trClothes "lower" $worn.lower.name "name" "을">><<set _leftaction[_trResult+ " 고쳐입는다"] to "leftlowerpull">>
		<</if>>
	<</if>>

	<<if $worn.over_lower.name isnot "naked">>
		<<if $worn.over_upper.set is $worn.over_lower.set>>
			<<if $worn.over_lower.state isnot setup.clothes.over_lower[clothesIndex('over_lower', $worn.over_lower)].state_base and $worn.over_upper.state is setup.clothes.over_upper[clothesIndex('over_upper', $worn.over_upper)].state_base and $worn.over_upper.state_top is setup.clothes.over_upper[clothesIndex('over_upper', $worn.over_upper)].state_top_base>>
				<<trClothes "over_lower" $worn.over_lower.name "name" "을">><<set _leftaction[_trResult+" 고쳐입는다"] to "leftoverlowerpull">>
			<</if>>
		<<elseif $worn.over_lower.state isnot setup.clothes.over_lower[clothesIndex('over_lower', $worn.over_lower)].state_base>>
			<<trClothes "over_lower" $worn.over_lower.name "name" "을">><<set _leftaction[_trResult+" 고쳐입는다"] to "leftoverlowerpull">>
		<</if>>
	<</if>>


	<<if $worn.upper.name isnot "naked">>
		<<if $worn.upper.state isnot setup.clothes.upper[clothesIndex('upper', $worn.upper)].state_base or $worn.upper.state_top isnot setup.clothes.upper[clothesIndex('upper', $worn.upper)].state_top_base>>
			<<trClothes "upper" $worn.upper.name "name" "을">><<set _leftaction[_trResult+" 고쳐입는다"] to "leftlowerpull">>
		<</if>>
	<</if>>

	<<if $worn.over_upper.name isnot "naked">>
		<<if $worn.over_upper.state isnot setup.clothes.over_upper[clothesIndex('over_upper', $worn.over_upper)].state_base or $worn.over_upper.state_top isnot setup.clothes.over_upper[clothesIndex('over_upper', $worn.over_upper)].state_top_base>>
			<<trClothes "over_upper" $worn.over_upper.name "name" "을">><<set _leftaction[_trResult+" 고쳐입는다"] to "leftoverupperpull">>
		<</if>>
	<</if>>
<</if>>
<</widget>>

<<widget "leftchoke">>
<<if $lefttarget isnot "self">>
	<<set $_target to $NPCList[$lefttarget]>>
	<<if $_target.lefthand is "throat" or $_target.righthand is "throat">>
		<<if $consensual == 1>>
			<<set _leftaction[$_target.pronouns.his + " 손을 당신의 목에 누른다"] to "keepchoke">>
			<<set _leftaction[$_target.pronouns.his + " 손을 당신의 목에서 떼어낸다"] to "stopchoke">>
		<<else>>
			<<set _leftaction[$_target.pronouns.his + " 손을 당신의 목에서 밀쳐낸다"] to "stopchokenoncon">>
		<</if>>
	<</if>>
<</if>>
<</widget>>

<<widget "leftCondom">>
<<if $lefttarget is "self" or $options.targetYourself is false or _targetnumber is 1>>
	<<if !["mouthEntrance","mouthImminent","mouthPenetration","pussyPenetration","anusPenetration"].includes($penisstate) and $player.penisExist>>
		<<if !$player.condom and $condoms gt 0 and $parasite.penis.name is undefined>>
			<<set _leftaction["콘돔을 씌운다 (" + $condoms + ")"] to "peniscondom">>
		<</if>>
		<<if $player.condom>>
			<<set _leftaction["당신의 콘돔을 제거한다"] to "penisremovecondom">>
		<</if>>
	<</if>>
<</if>>
<</widget>>

<<widget "leftUndressOther">>
<<if $lefttarget isnot "self">>
	<<set $_target to $NPCList[$lefttarget]>>
	<<if $_target.penis is "clothed" or $_target.vagina is "clothed" or $_target.chest is "clothed">>
		<<if ($consensual is 1 and ($enemytype is "man" ? $promiscuity : $deviancy) lte 14 and !$promiscuityIgnore)>>
			<!-- Do Nothing -->
		<<else>>
			<<set _leftaction["벗긴다:"] to "leftUndressOther">>
			<<set _undressLeftTargets to {"하지 않는다":"rest"}>>
			<<set $_doText to ($consensual isnot 1 ? "어떻게든" : "")>>
			<<if $_target.penis is "clothed" or $_target.vagina is "clothed">>
				<<silently>><<npcUndressText $NPCList[$lefttarget] "lower">><</silently>><<set _trResult to _text_output.substring(6)>>
				<<set _undressLeftTargets[$_doText + " " + $_target.pronouns.his + " " + _trResult] to "lower">>
			<</if>>
			<<if $_target.chest is "clothed">>
				<<silently>><<npcUndressText $NPCList[$lefttarget] "upper">><</silently>><<set _trResult to _text_output.substring(6)>>
				<<set _undressLeftTargets[$_doText + " " + $_target.pronouns.his + " " + _trResult] to "upper">>
			<</if>>
		<</if>>
	<</if>>
<</if>>
<</widget>>

:: Widgets Actions Right Hand [widget]

<<widget "rightdefault">>
<<if $righttarget isnot "self">>
	<<set _rightaction["쓰다듬는다"] to "rightchest">>
	<<if $consensual isnot 1 and ($fightTargets is undefined or $fightTargets.includes($righttarget))>>
		<<set _rightaction["때린다"] to "righthit">>
	<</if>>
<</if>>
<<if $righttarget is "self" or $options.targetYourself is false or _targetnumber is 1>>
	<<set _rightaction["등 뒤로 둔다"] to "behind">>
	<<rightcoverface>>
<</if>>
<</widget>>

<<widget "rightcoverface">>
	<<set _rightaction["얼굴을 가린다"] to "rightcoverface">>
<</widget>>

<<widget "rightcamerapose">>
<<if $audiencecamera1 isnot 0>>
	<<set _rightaction["카메라에 포즈를 취한다"] to "rightcamerapose">>
<</if>>
<</widget>>

<<widget "righthandpull">>
	<<if $righttarget isnot "self">>
		<<if ($NPCList[$righttarget].lefthand and $NPCList[$righttarget].lefthand.startsWith("penis"))
		or ($NPCList[$righttarget].righthand and $NPCList[$righttarget].righthand.startsWith("penis"))>>
			<<set _rightaction[$NPCList[$righttarget].pronouns.his + " 손을 당신의 자지에서 떼어낸다"] to "handpullpenis">>
		<</if>>

		<<if ($NPCList[$righttarget].lefthand and $NPCList[$righttarget].lefthand.startsWith("vagina"))
		or ($NPCList[$righttarget].righthand and $NPCList[$righttarget].righthand.startsWith("vagina"))>>
			<<set _rightaction[$NPCList[$righttarget].pronouns.his + " 손을 당신의 보지에서 떼어낸다"] to "handpullvagina">>
		<</if>>

		<<if ($NPCList[$righttarget].lefthand and $NPCList[$righttarget].lefthand.startsWith("anus"))
		or ($NPCList[$righttarget].righthand and $NPCList[$righttarget].righthand.startsWith("anus"))>>
			<<set _rightaction[$NPCList[$righttarget].pronouns.his + " 손을 당신의 엉덩이에서 떼어낸다"] to "handpullanus">>
		<</if>>
	<</if>>
<</widget>>

<!-- Deprecated, not in use. See "rightgrabnew"-->
<<widget "rightgrab">>
<<for _j = $enemyno-1; _j gte _end; _j-->>
	<<if $NPCList[_j].penis is 0>>
		<<if $consensual is 1 and $promiscuity lte 34 and $enemytype is "man" or $consensual is 1 and $deviancy lte 34 and $enemytype isnot "man">>
			<!-- Do Nothing -->
		<<else>>
			<<if $rightactiondefault is "rightgrab">>
				| <label><span class="sub"><<hisPost "의">> 자지를 잡는다</span> <<radiobutton "$rightaction" "rightgrab" checked>><<handdifficulty>> <<combatpromiscuous3>></label>
			<<else>>
				| <label><span class="sub"><<hisPost "의">> 자지를 잡는다</span> <<radiobutton "$rightaction" "rightgrab">><<handdifficulty>> <<combatpromiscuous3>></label>
			<</if>>
		<</if>>
		<<if $rightactiondefault is "rightstroke">>
			| <label><span class="sub"><<hisPost "의">> 자지를 쓰다듬는다</span> <<radiobutton "$rightaction" "rightstroke" checked>></label>
			<<break>>
		<<else>>
			| <label><span class="sub"><<hisPost "의">> 자지를 쓰다듬는다</span> <<radiobutton "$rightaction" "rightstroke">></label>
			<<break>>
		<</if>>
	<</if>>
<</for>>

<</widget>>

<<widget "rightgrabnew">>
<<if $righttarget isnot "self">>
	<<set $_target to $NPCList[$righttarget]>>
	<<if $_target.penis is 0>>
		<<set $_penis to (npcHasStrapon($righttarget) ? "페니스 밴드 자지" : "자지")>>
		<<if $consensual is 1 and ($enemytype is "man" ? $promiscuity : $deviancy) lte 34 and !$promiscuityIgnore>>
		<!-- Do Nothing -->
		<<else>>
			<<if $_target.chastity.penis.includes("chastity")>>
				<<trClothes "genitals" $_target.chastity.penis "name" "을">><<set _rightaction[$_target.pronouns.his + " " + $_penis + "를 " + _trResult + " 통해서 희롱한다"] to "rightgrab">>
			<<else>>
				<<set _rightaction[$_target.pronouns.his + " " + $_penis + "를 잡는다"] to "rightgrab">>
			<</if>>
		<</if>>
		<<if $_target.chastity.penis.includes("chastity")>>
			<<trClothes "genitals" $_target.chastity.penis "name" "을">><<set _rightaction[$_target.pronouns.his + " " + $_penis + "를 " + _trResult + " 통해서 쓰다듬는다"] to "rightstroke">>
		<<else>>
			<<set _rightaction[$_target.pronouns.his + " " + $_penis + "를 쓰다듬는다"] to "rightstroke">>
		<</if>>
	<</if>>
<</if>>
<</widget>>

<!-- Deprecated, not in use. See "rightplaynew"-->
<<widget "rightplay">>

<<if $combattype is "train">>
	<<set _end to $enemyno-1>>
<<else>>
	<<set _end to 0>>
<</if>>

<<if $consensual is 1 and $promiscuity lte 34 and $enemytype is "man" or $consensual is 1 and $deviancy lte 34 and $enemytype isnot "man">>
<!-- Do Nothing -->
<<else>>
	<<for _j = $enemyno-1; _j gte _end; _j-->>
		<<if $NPCList[_j].vagina is 0>>
			<<if $rightactiondefault is "rightplay">>
				| <label><span class="sub"><<hisPost "의">> 보지를 만지작거린다</span> <<radiobutton "$rightaction" "rightplay" checked>><<handdifficulty>> <<combatpromiscuous3>></label>
				<<break>>
			<<else>>
				| <label><span class="sub"><<hisPost "의">> 보지를 만지작거린다</span> <<radiobutton "$rightaction" "rightplay">><<handdifficulty>> <<combatpromiscuous3>></label>
				<<break>>
			<</if>>
		<</if>>
	<</for>>
<</if>>

<</widget>>

<<widget "rightplaynew">>
<<if $righttarget isnot "self">>
	<<set $_target to $NPCList[$righttarget]>>
	<<if $consensual is 1 and ($enemytype is "man" ? $promiscuity : $deviancy) lte 34 and !$promiscuityIgnore>>
		<!-- Do Nothing -->
	<<else>>
		<<if $_target.vagina is 0>>
			<<if $_target.chastity.vagina.includes("chastity")>>
				<<trClothes "genitals" $_target.chastity.vagina "name" "을">><<set _rightaction[$_target.pronouns.his + " 보지를 " + _trResult + " 통해서 만지작거린다"] to "rightplay">>
			<<else>>
				<<set _rightaction[$_target.pronouns.his + " 보지를 만지작거린다"] to "rightplay">>
			<</if>>
		<</if>>
	<</if>>
<</if>>
<</widget>>

<!-- Deprecated, not in use. See "rightclothesnew"-->
/*
<<widget "rightclothes">>

<<if $worn.upper.state is setup.clothes.upper[clothesIndex('upper', $worn.upper)].state_base and $worn.upper.state_top is setup.clothes.upper[clothesIndex('upper', $worn.upper)].state_top_base and !$worn.upper.type.includes("naked")>>
	<<if $rightactiondefault is "upper">>
	| <label><<trClothes "upper" $worn.upper.name "name" "을">>_trResult 벗는다. <<radiobutton "$rightaction" "upper" checked>></label>
	<<else>>
	| <label><<trClothes "upper" $worn.upper.name "name" "을">>_trResult 벗는다. <<radiobutton "$rightaction" "upper">></label>
	<</if>>
<</if>>

<<if $worn.under_upper.state is setup.clothes.under_upper[clothesIndex('under_upper', $worn.under_upper)].state_base and $worn.under_upper.state_top is setup.clothes.under_upper[clothesIndex('under_upper', $worn.under_upper)].state_top_base and !$worn.under_upper.type.includes("naked")>>
	<<if $rightactiondefault is "under_upper">>
	| <label><<trClothes "under_upper" $worn.under_upper.name "name" "을">>_trResult 벗는다. <<radiobutton "$rightaction" "under_upper" checked>></label>
	<<else>>
	| <label><<trClothes "under_upper" $worn.under_upper.name "name" "을">>_trResult 벗는다. <<radiobutton "$rightaction" "under_upper">></label>
	<</if>>
<</if>>

<<if $worn.lower.state is setup.clothes.lower[clothesIndex('lower', $worn.lower)].state_base and setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt isnot 1 and !$worn.lower.type.includes("naked")>>
	<<if $rightactiondefault is "lower">>
	| <label><<trClothes "lower" $worn.lower.name "name" "을">>_trResult 벗는다. <<radiobutton "$rightaction" "lower" checked>></label>
	<<else>>
	| <label><<trClothes "lower" $worn.lower.name "name" "을">>_trResult 벗는다. <<radiobutton "$rightaction" "lower">></label>
	<</if>>
<<elseif setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1 and $worn.lower.skirt_down is 1>>
	<<if $rightactiondefault is "lower">>
	| <label><<trClothes "lower" $worn.lower.name "name" "을">>_trResult 벗는다. <<radiobutton "$rightaction" "lower" checked>></label>
	<<else>>
	| <label><<trClothes "lower" $worn.lower.name "name" "을">>_trResult 벗는다. <<radiobutton "$rightaction" "lower">></label>
	<</if>>
<</if>>

<<if $worn.under_lower.state is setup.clothes.under_lower[clothesIndex('under_lower', $worn.under_lower)].state_base and !$worn.under_lower.type.includes("naked")>>
	<<if $worn.lower.state isnot setup.clothes.lower[clothesIndex('lower', $worn.lower)].state_base or setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1 or $worn.lower.type.includes("naked")>>
		<<if $rightactiondefault is "under">>
		| <label><<trClothes "under_lower" $worn.under_lower.name "name" "을">>_trResult 벗는다. <<radiobutton "$rightaction" "under" checked>></label>
		<<else>>
		| <label><<trClothes "under_lower" $worn.under_lower.name "name" "을">>_trResult 벗는다. <<radiobutton "$rightaction" "under">></label>
		<</if>>
	<</if>>
<</if>>

<</widget>>
*/

<<widget "rightclothesnew">>
<<if $righttarget is "self" or $options.targetYourself is false or _targetnumber is 1>>
	<<if $worn.over_upper.state is setup.clothes.over_upper[clothesIndex('over_upper', $worn.over_upper)].state_base and $worn.over_upper.state_top is setup.clothes.over_upper[clothesIndex('over_upper', $worn.over_upper)].state_top_base and !$worn.over_upper.type.includes("naked")>>
		<<trClothes "over_upper" $worn.over_upper.name "name" "을">><<set _rightaction[_trResult+" 벗는다"] to "over_upper">>
	<</if>>

	<<if $worn.upper.state is setup.clothes.upper[clothesIndex('upper', $worn.upper)].state_base and $worn.upper.state_top is setup.clothes.upper[clothesIndex('upper', $worn.upper)].state_top_base and !$worn.upper.type.includes("naked")>>
		<<trClothes "upper" $worn.upper.name "name" "을">><<set _rightaction[_trResult+" 벗는다"] to "upper">>
	<</if>>

	<<if $worn.under_upper.state is setup.clothes.under_upper[clothesIndex('under_upper', $worn.under_upper)].state_base and $worn.under_upper.state_top is setup.clothes.under_upper[clothesIndex('under_upper', $worn.under_upper)].state_top_base and !$worn.under_upper.type.includes("naked")>>
		<<trClothes "under_upper" $worn.under_upper.name "name" "을">><<set _rightaction[_trResult+" 벗는다"] to "under_upper">>
	<</if>>

	<<if $worn.over_lower.state is setup.clothes.over_lower[clothesIndex('over_lower', $worn.over_lower)].state_base and setup.clothes.over_lower[clothesIndex('over_lower', $worn.over_lower)].skirt isnot 1 and !$worn.over_lower.type.includes("naked")>>
		<<trClothes "over_lower" $worn.over_lower.name "name" "을">><<set _rightaction[_trResult+" 벗는다"] to "over_lower">>
	<<elseif setup.clothes.over_lower[clothesIndex('over_lower', $worn.over_lower)].skirt is 1 and $worn.over_lower.skirt_down is 1>>
		<<trClothes "over_lower" $worn.over_lower.name "name" "을">><<set _rightaction[_trResult+" 벗는다"] to "over_lower">>
	<</if>>

	<<if $worn.lower.state is setup.clothes.lower[clothesIndex('lower', $worn.lower)].state_base and setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt isnot 1 and !$worn.lower.type.includes("naked")>>
		<<trClothes "lower" $worn.lower.name "name" "을">><<set _rightaction[_trResult+" 벗는다"] to "lower">>
	<<elseif setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1 and $worn.lower.skirt_down is 1>>
		<<trClothes "lower" $worn.lower.name "name" "을">><<set _rightaction[_trResult+" 벗는다"] to "lower">>
	<</if>>

	<<if $worn.under_lower.state is setup.clothes.under_lower[clothesIndex('under_lower', $worn.under_lower)].state_base and !$worn.under_lower.type.includes("naked") and !($penisstate isnot 0 and playerHasStrapon())>>
		<<if $worn.lower.state isnot setup.clothes.lower[clothesIndex('lower', $worn.lower)].state_base or setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1 or $worn.lower.type.includes("naked")>>
			<<trClothes "under_lower" $worn.under_lower.name "name" "을">><<set _rightaction[_trResult+" 벗는다"] to "under_lower">>
		<</if>>
	<</if>>

	<<if $worn.face.state is setup.clothes.face[clothesIndex('face', $worn.face)].state_base and !$worn.face.type.includes("naked") and $worn.face.type.includes("mask")>>
			<<trClothes "face" $worn.face.name "name" "을">><<set _rightaction[_trResult+" 벗는다"] to "mask">>
	<</if>>
<</if>>
<</widget>>

<!-- Deprecated, not in use. See "rightspraynew"-->
<<widget "rightspray">>

<<if $consensual isnot 1 and $spray gte 1>>
	<<if $rightactiondefault is "spray">>
	| <label><span class="def">페퍼 스프레이</span> <span class="black">남은 용량:</span> $spray / $spraymax <<radiobutton "$rightaction" "spray" checked>></label>
	<<else>>
	| <label><span class="def">페퍼 스프레이</span> <span class="black">남은 용량:</span> $spray / $spraymax <<radiobutton "$rightaction" "spray">></label>
	<</if>>
<</if>>

<</widget>>

<<widget "rightspraynew">>
<<if $righttarget isnot "self">>
	<<if $consensual isnot 1 and $spray gte 1 and $NPCList.some(npc => npc.health >= 0 && (!$fightTargets || $fightTargets.includes(npc.index)))>>
		<<set _rightaction["페퍼 스프레이"] to "spray">>
	<</if>>
<</if>>
<</widget>>

<!-- Deprecated, not in use. See "rightstealnew"-->
<<widget "rightsteal">>
<<if (currentSkillValue('skulduggery') gte 200 or $easySteal is 1) and $stealstateright isnot 3 and $enemytype is "man" and $abomination isnot 1 and $npc.length is 0 and $water isnot 1 and $punishmentposition isnot "gloryhole">>
	<<set $skulduggerydifficulty to 1000 - ($enemyarousal / $enemyarousalmax * 400) - $skulduggery - $enemytrust + $enemyanger>>
	<<if $easySteal is 1>><<set $skulduggerydifficulty to 0>><</if>>
	<<if $rightactiondefault is "steal">>
	| <label><span class="brat">훔치기</span> <<radiobutton "$rightaction" "steal" checked>> <<skulduggerydifficulty>><<combatcrime>></label>
	<<else>>
	| <label><span class="brat">훔치기</span> <<radiobutton "$rightaction" "steal">> <<skulduggerydifficulty>><<combatcrime>></label>
	<</if>>
<</if>>
<</widget>>

<<widget "rightstealnew">>
<<if $righttarget isnot "self" and !($stealtarget.includes($righttarget))>>
	<<if (currentSkillValue('skulduggery') gte 200 or $easySteal is 1) and $enemytype is "man" and $abomination isnot 1 and !($npcrow.includes($righttarget)) and $water isnot 1 and $punishmentposition isnot "gloryhole">>
		<<set $skulduggerydifficulty to (1000 - ($enemyarousal / $enemyarousalmax * 400) - $skulduggery - $enemytrust + $enemyanger) * $stealdifficulty>>
		<<if $easySteal is 1>><<set $skulduggerydifficulty to 0>><</if>>
		/*Missing <<skulduggerydifficulty>><<combatcrime>>*/
		<<if $stealstateright is undefined>>
			<<set _rightaction["훔치기"] to "steal">>
		<<elseif $stealstateright is 2>>
			<<set _rightaction[$NPCList[$lefttarget].pronouns.his + " 소유물을 가져간다"] to "steal">>
		<<else>>
			<<set _rightaction["계속 훔치려고 한다"] to "steal">>
		<</if>>
	<</if>>
<</if>>
<</widget>>

<!-- Deprecated, not in use. See "rightpenwhacknew"-->
<<widget "rightpenwhack">>
<<if $NPCList[0].lefthand is "pen" or $NPCList[0].righthand is "pen" or
$NPCList[1].lefthand is "pen" or $NPCList[1].righthand is "pen" or
$NPCList[2].lefthand is "pen" or $NPCList[2].righthand is "pen" or
$NPCList[3].lefthand is "pen" or $NPCList[3].righthand is "pen" or
$NPCList[4].lefthand is "pen" or $NPCList[4].righthand is "pen" or
$NPCList[5].lefthand is "pen" or $NPCList[5].righthand is "pen">>
	<<if $rightactiondefault is "penwhack">>
	| <label><span class="brat">필기도구를 친다</span> <<radiobutton "$rightaction" "penwhack" checked>></label>
	<<else>>
	| <label><span class="brat">필기도구를 친다</span> <<radiobutton "$rightaction" "penwhack">></label>
	<</if>>
<</if>>

<</widget>>

<<widget "rightpenwhacknew">>
<<if $righttarget isnot "self">>
	<<set $_target to $NPCList[$righttarget]>>
	<<if $_target.lefthand and ($_target.lefthand is "pen" or $_target.lefthand.startsWith("pen_")) or $_target.righthand and ($_target.righthand is "pen" or $_target.righthand.startsWith("pen_"))>>
		<<set _rightaction["필기도구를 친다"] to "penwhack">>
	<</if>>
<</if>>
<</widget>>

<<widget "rightshacklewhack">>
<<if $righttarget isnot "self">>
	<<if $NPCList[$righttarget].lefthand is "shackle_entrance" or $NPCList[$righttarget].lefthand is "shackle_imminent" or $NPCList[$righttarget].righthand is "shackle_entrance" or $NPCList[$righttarget].righthand is "shackle_imminent">>
		<<set _rightaction["족쇄를 친다"] to "shacklewhack">>
	<</if>>
<</if>>
<</widget>>

<<widget "righthypnosiswhack">>
<<if $righttarget isnot "self">>
	<<set $_target to $NPCList[$righttarget]>>
	<<if $_target.righthand and ($_target.righthand is "hypnosis" or $_target.righthand.startsWith("hypnosis_")) or $_target.righthand and ($_target.righthand is "hypnosis" or $_target.righthand.startsWith("hypnosis_"))>>
		<<set _rightaction["최면도구를 친다"] to "hypnosiswhack">>
	<</if>>
<</if>>
<</widget>>

<<widget "rightdildowhack">>
<<if $righttarget isnot "self">>
	<<if $NPCList[$righttarget].lefthand is "dildo" or $NPCList[$righttarget].righthand is "dildo">>
		<<if getSexToysofType("all").includes($NPCList[$righttarget].lefttool)>>
			<<silently>><<lefttoolPost $righttarget "을">><</silently>><<set _rightaction[_trResult +" 친다"] to "dildowhack">>
		<<elseif getSexToysofType("all").includes($NPCList[$righttarget].righttool)>>
			<<silently>><<righttoolPost $righttarget "을">><</silently>><<set _rightaction[_trResult +" 친다"] to "dildowhack">>
		<</if>>
	<</if>>
<</if>>
<</widget>>

<<widget "rightFixAndCoverActions">>

<<if $worn.lower.vagina_exposed is 1 and $worn.under_lower.vagina_exposed is 1>>
	<<if $NPCList[0].state is "stalk" and $NPCList[0].legs isnot "run">>
		<<if $vaginause is "cover">>
			<<set _rightaction["계속 보지를 가린다"] to "rightcovervaginameek">>
		<<elseif $vaginause is 0>>
			<<set _rightaction["보지를 가린다"] to "rightcovervaginameek">>
		<</if>>
	<<elseif $righttarget is "self" or $options.targetYourself is false or _targetnumber is 1 or $NPCList[0].state is "stalk">>
		<<if $vaginause is "cover">>
			<<set _rightaction["계속 보지를 가린다"] to "rightcovervagina">>
		<<elseif $vaginause is 0>>
			<<set _rightaction["보지를 가린다"] to "rightcovervagina">>
		<</if>>
	<</if>>
<</if>>

<<if $worn.lower.vagina_exposed is 1 and $worn.under_lower.vagina_exposed is 1>>
	<<set _penis to playerHasStrapon() ? '페니스 밴드 자지' : '자지'>>
	<<set _straponDisplaced to (!playerHasStrapon() && $worn.under_lower.type.includes("strap-on"))>>
	<<if $NPCList[0].state is "stalk" and $NPCList[0].legs isnot "run">>
		<<if $penisuse is "cover">>
			<<set _rightaction["계속 " + _penis + "를 가린다"] to "rightcoverpenismeek">>
		<<elseif $penisuse is 0>>
			<<if !_straponDisplaced>>
				<<set _rightaction[_penis + "를 가린다"] to "rightcoverpenismeek">>
			<</if>>
		<</if>>
	<<elseif $righttarget is "self" or $options.targetYourself is false or _targetnumber is 1 or $NPCList[0].state is "stalk">>
		<<if $penisuse is "cover">>
			<<set _rightaction["계속 " + _penis + "를 가린다"] to "rightcoverpenis">>
		<<elseif $penisuse is 0>>
			<<if !_straponDisplaced>>
				<<set _rightaction[_penis + "를 가린다"] to "rightcoverpenis">>
			<</if>>
		<</if>>
	<</if>>
<</if>>

<<if $worn.lower.anus_exposed is 1 and $worn.under_lower.anus_exposed is 1>>
	<<if $NPCList[0].state is "stalk" and $NPCList[0].legs isnot "run">>
		<<if $anususe is "cover">>
			<<set _rightaction["계속 엉덩이를 가린다"] to "rightcoveranusmeek">>
		<<else>>
			<<set _rightaction["엉덩이를 가린다"] to "rightcoveranusmeek">>
		<</if>>
	<<elseif $righttarget is "self" or $options.targetYourself is false or _targetnumber is 1 or $NPCList[0].state is "stalk">>
		<<if $anususe is "cover">>
			<<set _rightaction["계속 엉덩이를 가린다"] to "rightcoveranus">>
		<<else>>
			<<set _rightaction["엉덩이를 가린다"] to "rightcoveranus">>
		<</if>>
	<</if>>
<</if>>
<<if $righttarget is "self" or $options.targetYourself is false or _targetnumber is 1>>
	<<if $worn.under_lower.name isnot "naked">>
		<<if $worn.under_lower.state is "thighs" or $worn.under_lower.state is "knees" or $worn.under_lower.state is "ankles">>
			<<trClothes "under_lower" $worn.under_lower.name "name" "을">><<set _rightaction[_trResult+" 올린다"] to "rightunderpull">>
		<</if>>
	<</if>>

	<<if setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1>>
		<<if $worn.lower.skirt_down is 0>>
			<<if $worn.lower.state is "waist">>
				<<trClothes "lower" $worn.lower.name "name" "으로">><<set _rightaction["가랑이를 " + _trResult + " 가린다"] to "rightskirtpull">>
			<</if>>
		<</if>>
	<</if>>

	<<if $worn.lower.name isnot "naked">>
		<<if $worn.upper.set is $worn.lower.set>>
			<<if $worn.lower.state isnot setup.clothes.lower[clothesIndex('lower', $worn.lower)].state_base and $worn.upper.state is setup.clothes.upper[clothesIndex('upper', $worn.upper)].state_base and $worn.upper.state_top is setup.clothes.upper[clothesIndex('upper', $worn.upper)].state_top_base>>
				<<trClothes "lower" $worn.lower.name "name" "을">><<set _rightaction[_trResult+ " 고쳐입는다"] to "rightlowerpull">>
			<</if>>
		<<elseif $worn.lower.state isnot setup.clothes.lower[clothesIndex('lower', $worn.lower)].state_base>>
			<<trClothes "lower" $worn.lower.name "name" "을">><<set _rightaction[_trResult+ " 고쳐입는다"] to "rightlowerpull">>
		<</if>>
	<</if>>

	<<if $worn.over_lower.name isnot "naked">>
		<<if $worn.over_upper.set is $worn.over_lower.set>>
			<<if $worn.over_lower.state isnot setup.clothes.over_lower[clothesIndex('over_lower', $worn.over_lower)].state_base and $worn.over_upper.state is setup.clothes.over_upper[clothesIndex('over_upper', $worn.over_upper)].state_base and $worn.over_upper.state_top is setup.clothes.over_upper[clothesIndex('over_upper', $worn.over_upper)].state_top_base>>
				<<trClothes "over_lower" $worn.over_lower.name "name" "을">><<set _rightaction[_trResult+" 고쳐입는다"] to "rightoverlowerpull">>
			<</if>>
		<<elseif $worn.over_lower.state isnot setup.clothes.over_lower[clothesIndex('over_lower', $worn.over_lower)].state_base>>
			<<trClothes "over_lower" $worn.over_lower.name "name" "을">><<set _rightaction[_trResult+" 고쳐입는다"] to "rightoverlowerpull">>
		<</if>>
	<</if>>

	<<if $worn.upper.name isnot "naked">>
		<<if $worn.upper.state isnot setup.clothes.upper[clothesIndex('upper', $worn.upper)].state_base or $worn.upper.state_top isnot setup.clothes.upper[clothesIndex('upper', $worn.upper)].state_top_base>>
			<<trClothes "upper" $worn.upper.name "name" "을">><<set _rightaction[_trResult+" 고쳐입는다"] to "rightlowerpull">>
		<</if>>
	<</if>>

	<<if $worn.over_upper.name isnot "naked">>
		<<if $worn.over_upper.state isnot setup.clothes.over_upper[clothesIndex('over_upper', $worn.over_upper)].state_base or $worn.over_upper.state_top isnot setup.clothes.over_upper[clothesIndex('over_upper', $worn.over_upper)].state_top_base>>
			<<trClothes "over_upper" $worn.over_upper.name "name" "을">><<set _rightaction[_trResult+" 고쳐입는다"] to "rightoverupperpull">>
		<</if>>
	<</if>>
<</if>>
<</widget>>

<<widget "rightchoke">>
<<if $righttarget isnot "self">>
	<<set $_target to $NPCList[$righttarget]>>
	<<if $_target.lefthand is "throat" or $_target.righthand is "throat">>
		<<if $consensual == 1>>
			<<set _rightaction[$_target.pronouns.his + " 손을 당신의 목에 누른다"] to "keepchoke">>
			<<set _rightaction[$_target.pronouns.his + " 손을 당신의 목에서 떼어낸다"] to "stopchoke">>
		<<else>>
			<<set _rightaction[$_target.pronouns.his + " 손을 당신의 목에서 밀쳐낸다"] to "stopchokenoncon">>
		<</if>>
	<</if>>
<</if>>
<</widget>>

<<widget "rightCondom">>
<<if $lefttarget is "self" or $options.targetYourself is false or _targetnumber is 1>>
	<<if !["mouthEntrance","mouthImminent","mouthPenetration","pussyPenetration","anusPenetration"].includes($penisstate) and $player.penisExist>>
		<<if !$player.condom and $condoms gt 0>>
			<<set _rightaction["콘돔을 씌운다 (" + $condoms + ")"] to "peniscondom">>
		<</if>>
		<<if $player.condom>>
			<<set _rightaction["당신의 콘돔을 제거한다"] to "penisremovecondom">>
		<</if>>
	<</if>>
<</if>>
<</widget>>

<<widget "rightUndressOther">>
<<if $righttarget isnot "self">>
	<<set $_target to $NPCList[$righttarget]>>
	<<if $_target.penis is "clothed" or $_target.vagina is "clothed" or $_target.chest is "clothed">>
		<<if ($consensual is 1 and ($enemytype is "man" ? $promiscuity : $deviancy) lte 14 and !$promiscuityIgnore)>>
			<!-- Do Nothing -->
		<<else>>
			<<set _rightaction["벗긴다:"] to "rightUndressOther">>
			<<set _undressRightTargets to {"하지 않는다":"rest"}>>
			<<set $_doText to ($consensual isnot 1 ? "어떻게든" : "")>>
			<<if $_target.penis is "clothed" or $_target.vagina is "clothed">>
				<<silently>><<npcUndressText $NPCList[$righttarget] "lower">><</silently>><<set _trResult to _text_output.substring(6)>>
				<<set _undressRightTargets[$_doText + " " + $_target.pronouns.his + " " + _trResult] to "lower">>
			<</if>>
			<<if $_target.chest is "clothed">>
				<<silently>><<npcUndressText $NPCList[$righttarget] "upper">><</silently>><<set _trResult to _text_output.substring(6)>>
				<<set _undressRightTargets[$_doText + " " + $_target.pronouns.his + " " + _trResult] to "upper">>
			<</if>>
		<</if>>
	<</if>>
<</if>>
<</widget>>

:: Widgets Actions Either Hand [widget]
/* this is for widgets done in a generic way to cover either hand in either old or new style */

<<widget "handsstrugglefreebodypart">>
	<<if $consensual isnot 1>>
		<<set _hand to _args[0]>>
		<<set _style to _args[1]>>
		<<if _hand is "right">>
			<<set _default to $rightactiondefault>>
			<<set _actionVariable to "$rightaction">>
			<<set _actions to _rightaction>>
		<<else>>
			<<set _default to $leftactiondefault>>
			<<set _actionVariable to "$leftaction">>
			<<set _actions to _leftaction>>
		<</if>>
		<<if (_hand is "left" and $lefttarget isnot "self") or (_hand is "right" and $righttarget isnot "self")>>
			<<if ["breasts", "nipple", "otheranus"].includes($mouthstate) or ["lefthand", "righthand", "facesit"].includes($mouthuse)>>
				<<if _style is "old">>
					| <label><span class="brat">얼굴을 풀어낸다</span><<radiobutton _actionVariable "freeface" `_default is "freeface" ? 'checked' : ''`>></label>
				<<else>>
					<<set _actions["얼굴을 풀어낸다"] to "freeface">>
				<</if>>
			<</if>>
		<</if>>
	<</if>>
<</widget>>

<<widget "combathandhold">>
	<<set $_heldhand to _args[0]>>
	<<if $enemytype isnot "beast" and $consensual is 1>>
		<<if $_heldhand is "righthand" and $righttarget isnot "self">>
			<<if $NPCList[$righttarget].lefthand is 0 or $NPCList[$righttarget].lefthand is "idle">>
				<<set _rightaction[$NPCList[$righttarget].pronouns.his + " 손을 잡는다"] to "righthandholdnew">>
			<</if>>
		<<elseif $_heldhand is "lefthand" and $lefttarget isnot "self">>
			<<if $NPCList[$lefttarget].righthand is 0 or $NPCList[$lefttarget].righthand is "idle">>
				<<set _leftaction[$NPCList[$lefttarget].pronouns.his + " 손을 잡는다"] to "lefthandholdnew">>
			<</if>>
		<</if>>
	<</if>>
<</widget>>

<<widget "combathandguide">>
	<<if $consensual is 1 and ($enemytype is "man" ? $promiscuity : $deviancy) lt 15 and !$promiscuityIgnore>>
		<!-- Do Nothing -->
	<<else>>
		<<set _handGuideOptions to {}>>

		<<set $_genitals_exposed to $worn.over_lower.vagina_exposed gte 1 and ($worn.lower.vagina_exposed gte 1 or $worn.lower.skirt gte 1) and $worn.under_lower.vagina_exposed gte 1 and $worn.genitals.vagina_exposed gte 1>>
		<<set $_anus_exposed to $worn.over_lower.anus_exposed gte 1 and ($worn.lower.anus_exposed gte 1 or $worn.lower.skirt gte 1) and $worn.under_lower.anus_exposed gte 1 and $worn.genitals.anus_exposed gte 1>>

		<<if $_genitals_exposed>>
			<<if $penisuse is 0>>
				<<set _handGuideOptions["당신의 자지로"] to "penis">>
			<</if>>

			<<if $vaginause is 0>>
				<<set _handGuideOptions["당신의 보지로"] to "pussy">>
			<</if>>
		<</if>>

		<<if $anususe is 0 and $_anus_exposed>>
			<<set _handGuideOptions["당신의 엉덩이로"] to "ass">>
		<</if>>

		<<if Object.keys(_handGuideOptions).length gt 0>>
			<<if _args[0] is "left">>
				<<set _leftaction[$NPCList[$lefttarget].pronouns.his + " 손을 이끈다"] to "handguide">>
			<<else>>
				<<set _rightaction[$NPCList[$righttarget].pronouns.his + " 손을 이끈다"] to "handguide">>
			<</if>>
		<</if>>
	<</if>>
<</widget>>

<<widget "removeButtplug">>
	<<if _args[0]>>
		<<if _args[0] is "left">>
			<<if $lefttarget is "self" or $options.targetYourself is false or _targetnumber is 1>>
				<<if $worn.lower.anus_exposed gte 1 and $worn.under_lower.anus_exposed gte 1 and !["othermouthImminent","othermouth","imminent","doubleimminent","penetrated","doublepenetrated"].includes($anusstate) and playerHasButtPlug()>>
					<<trClothes "butt_plug" $worn.butt_plug.name "name" "을">><<set _leftaction[_trResult + "뺀다"] to "removebuttplug">>
				<</if>>
			<</if>>
		<</if>>
		<<if _args[0] is "right">>
			<<if $righttarget is "self" or $options.targetYourself is false or _targetnumber is 1>>
				<<if $worn.lower.anus_exposed gte 1 and $worn.under_lower.anus_exposed gte 1 and !["othermouthImminent","othermouth","imminent","doubleimminent","penetrated","doublepenetrated"].includes($anusstate) and playerHasButtPlug()>>
					<<trClothes "butt_plug" $worn.butt_plug.name "name" "을">><<set _rightaction[_trResult + "뺀다"] to "removebuttplug">>
				<</if>>
			<</if>>
		<</if>>
	<</if>>
<</widget>>

<<widget "combatMasturbate">>
	<<if _args[0] isnot undefined>>
		<<if ($worn.lower.state isnot setup.clothes.lower[clothesIndex('lower', $worn.lower)].state_base or setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1 or $worn.lower.type.includes("naked")) and !$worn.genitals.type.includes('hidden')>>
			<<if _args[0] is "left">>
				<<if $promiscuity gt 14 and ($lefttarget is "self" or $options.targetYourself is false or _targetnumber is 1)>>
					<<if $player.vaginaExist>>
						<<set _leftaction["당신의 보지를 애무한다"] to "leftmasturbatepussy">>
					<</if>>
					<<if $player.penisExist and $penisuse is 0 and !$worn.genitals.type.includes('cage')>>
						<<set _leftaction["당신의 자지를 쓰다듬는다"] to "leftmasturbatepenis">>
					<</if>>
				<</if>>
			<</if>>
			<<if _args[0] is "right">>
				<<if $promiscuity gt 14 and ($righttarget is "self" or $options.targetYourself is false or _targetnumber is 1)>>
					<<if $player.vaginaExist>>
						<<set _rightaction["당신의 보지를 애무한다"] to "rightmasturbatepussy">>
					<</if>>
					<<if $player.penisExist and $penisuse is 0 and !$worn.genitals.type.includes('cage')>>
						<<set _rightaction["당신의 자지를 쓰다듬는다"] to "rightmasturbatepenis">>
					<</if>>
				<</if>>
			<</if>>
		<</if>>
	<</if>>
<</widget>>

<<widget "applyLube">>
	<<if _args[0] is "left" and ($lefttarget is "self" or $options.targetYourself is false or _targetnumber is 1)>>

		<<set _items to window.listUniqueCarriedSextoys()>>

		<<for _i = 0; _i < _items.length; _i++>>
			<<if _items[_i].type.includes("lube")>>
				<<set _hasLube to true>>
				<<break>>
			<</if>>
		<</for>>

		<<if _hasLube is true>>
			<<if $worn.over_lower.vagina_exposed isnot 0 and $worn.lower.vagina_exposed isnot 0 and $worn.under_lower.vagina_exposed isnot 0 and $worn.genitals.vagina_exposed isnot 0>>
				<<if !["mouthEntrance","mouthImminent","mouthPenetration","pussyPenetration","anusPenetration"].includes($penisstate) and $player.penisExist>>
					<<set $_penis to (!playerHasStrapon() ? "자지" : "페니스 밴드 자지")>>
					<<set _leftaction["당신의 " + $_penis + "에 윤활액을 바른다"] to "lubepenis">>
				<</if>>
				<<if !["othermouthimminent","othermouth","imminent","penetrated","doubleimminent","doublepenetrated"].includes($vaginastate) and $player.vaginaExist>>
					<<set _leftaction["당신의 보지에 윤활액을 바른다"] to "lubepussy">>
				<</if>>
			<</if>>
			<<if $worn.over_lower.anus_exposed isnot 0 and $worn.lower.anus_exposed isnot 0 and $worn.under_lower.anus_exposed isnot 0 and $worn.genitals.anus_exposed isnot 0>>
				<<if !["othermouthimminent","othermouth","imminent","penetrated","doubleimminent","doublepenetrated"].includes($anusstate)>>
					<<set _leftaction["당신의 항문에 윤활액을 바른다"] to "lubeanus">>
				<</if>>
			<</if>>
		<</if>>
	<</if>>

	<<if _args[0] is "right" and ($righttarget is "self" or $options.targetYourself is false or _targetnumber is 1)>>

		<<set _items to window.listUniqueCarriedSextoys()>>
		<<for _i; _i < _items.length; _i++>>
			<<if _items[_i].type.includes("lube")>>
				<<set _hasLube to true>>
				<<break>>
			<</if>>
		<</for>>
		<<if _hasLube is true>>
			<<if $worn.over_lower.vagina_exposed isnot 0 and $worn.lower.vagina_exposed isnot 0 and $worn.under_lower.vagina_exposed isnot 0 and $worn.genitals.vagina_exposed isnot 0>>
				<<if !["mouthEntrance","mouthImminent","mouthPenetration","pussyPenetration","anusPenetration"].includes($penisstate) and $player.penisExist>>
					<<set _rightaction["당신의 자지에 윤활액을 바른다"] to "lubepenis">>
				<</if>>
				<<if !["othermouthimminent","othermouth","imminent","penetrated","doubleimminent","doublepenetrated"].includes($vaginastate) and $player.vaginaExist>>
					<<set _rightaction["당신의 보지에 윤활액을 바른다"] to "lubepussy">>
				<</if>>
			<</if>>
			<<if $worn.over_lower.anus_exposed isnot 0 and $worn.lower.anus_exposed isnot 0 and $worn.under_lower.anus_exposed isnot 0 and $worn.genitals.anus_exposed isnot 0>>
				<<if !["othermouthimminent","othermouth","imminent","penetrated","doubleimminent","doublepenetrated"].includes($anusstate)>>
					<<set _rightaction["당신의 항문에 윤활액을 바른다"] to "lubeanus">>
				<</if>>
			<</if>>
		<</if>>
	<</if>>
<</widget>>

<<widget "heldSexToy">>
	<<if _args[0] isnot undefined>>
		<<if _args[0] is "left">>
			/* rest */
			<<set _leftaction["쉰다"] to "heldSexToy">>

			/* Drop sex toy */
			<<silently>><<sextoyPost $currentSexToyLeft.name "name" "을">><<set $_trLeftToy to _trResult>><</silently>><<set _leftaction[$_trLeftToy + " 내려놓는다"] to "dildoDrop">>

			/* NPC fuck */
			<<if $lefttarget isnot undefined and $lefttarget isnot "self">>
				<<if $NPCList[$lefttarget].vagina isnot "none" and $NPCList[$lefttarget].vagina is 0 and $currentSexToyLeft.type.includes("dildo")>>
					<<set _leftaction[$_trLeftToy+" "+$NPCList[$lefttarget].pronouns.his+" 보지에 가져간다"] to "dildoOtherPussyTease">>
				<</if>>

				<<if $NPCList[$lefttarget].penis isnot "none" and $NPCList[$lefttarget].penis is 0 and !npcHasStrapon($lefttarget) and $currentSexToyLeft.type.includes("stroker")>>
					<<set _leftaction[$_trLeftToy+" "+$NPCList[$lefttarget].pronouns.his + " 자지에 가져간다"] to "strokerOtherPenisTease">>
				<</if>>

				<<if $analdisable is "f" and $NPCList[$lefttarget].vagina isnot "none" and $NPCList[$lefttarget].vagina is 0 and $currentSexToyLeft.type.includes("dildo")>>
					<<set _leftaction[$_trLeftToy+" "+$NPCList[$lefttarget].pronouns.his+" 항문에 가져간다"] to "dildoOtherAnusTease">>
				<</if>>

				<<if $analdisable is "f" and $NPCList[$lefttarget].penis isnot "none" and $NPCList[$lefttarget].penis is 0 and $currentSexToyLeft.type.includes("dildo")>>
					<<set _leftaction[$_trLeftToy+" "+$NPCList[$lefttarget].pronouns.his+" 항문에 가져간다"] to "dildoOtherAnusTease">>
				<</if>>
			<</if>>

			/* Masturbate */
			<<if $worn.lower.state isnot setup.clothes.lower[clothesIndex('lower', $worn.lower)].state_base or setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1 or $worn.lower.type.includes("naked")>>
				<<if $promiscuity gt 34 and ($lefttarget is "self" or $options.targetYourself is false or _targetnumber is 1)>>
					<<if $player.vaginaExist and $currentSexToyLeft.type.includes("dildo")>>
						<<set _leftaction[$_trLeftToy+" 당신의 보지에 가져간다"] to "dildoSelfPussyEntrance">>
					<</if>>
					<<if $analdisable is "f" and $currentSexToyLeft.type.includes("dildo")>>
						<<set _leftaction[$_trLeftToy+" 당신의 항문에 가져간다"] to "dildoSelfAnusEntrance">>
					<</if>>
					<<if $player.penisExist and $currentSexToyLeft.type.includes("stroker")>>
						<<set _leftaction[$_trLeftToy+" 당신의 자지에 가져간다"] to "strokerSelfPenisEntrance">>
					<</if>>
				<</if>>
			<</if>>
		<</if>>

		<<if _args[0] is "right">>
			/* rest */
			<<set _rightaction["쉰다"] to "heldSexToy">>

			/* Drop sex toy */
			<<silently>><<sextoyPost $currentSexToyRight.name "name" "을">><<set $_trRightToy to _trResult>><</silently>><<set _rightaction[$_trRightToy + " 내려놓는다"] to "dildoDrop">>

			/* NPC fuck */
			<<if $righttarget isnot undefined and $righttarget isnot "self">>
				<<if $NPCList[$righttarget].vagina isnot "none" and $NPCList[$righttarget].vagina is 0 and $currentSexToyRight.type.includes("dildo")>>
					<<set _rightaction[$_trRightToy+" "+$NPCList[$righttarget].pronouns.his+" 보지에 가져간다"] to "dildoOtherPussyTease">>
				<</if>>
				<<if $NPCList[$righttarget].penis isnot "none" and $NPCList[$righttarget].penis is 0 and !npcHasStrapon($righttarget) and $currentSexToyRight.type.includes("stroker")>>
					<<set _rightaction[$_trRightToy+" "+$NPCList[$righttarget].pronouns.his + " 자지에 가져간다"] to "strokerOtherPenisTease">>
				<</if>>
				<<if $analdisable is "f" and $NPCList[$righttarget].vagina isnot "none" and $NPCList[$righttarget].vagina is 0 and $currentSexToyRight.type.includes("dildo")>>
					<<set _rightaction[$_trRightToy+" "+$NPCList[$righttarget].pronouns.his+" 항문에 가져간다"] to "dildoOtherAnusTease">>
				<</if>>
				<<if $analdisable is "f" and $NPCList[$righttarget].penis isnot "none" and $NPCList[$righttarget].penis is 0 and $currentSexToyRight.type.includes("dildo")>>
					<<set _rightaction[$_trRightToy+" "+$NPCList[$righttarget].pronouns.his+" 항문에 가져간다"] to "dildoOtherAnusTease">>
				<</if>>
			<</if>>

				/* Masturbate */
			<<if $worn.lower.state isnot setup.clothes.lower[clothesIndex('lower', $worn.lower)].state_base or setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1 or $worn.lower.type.includes("naked")>>
				<<if $promiscuity gt 34 and ($righttarget is "self" or $options.targetYourself is false or _targetnumber is 1)>>
					<<if $player.vaginaExist and $currentSexToyRight.type.includes("dildo")>>
						<<set _rightaction[$_trRightToy+" 당신의 보지에 가져간다"] to "dildoSelfPussyEntrance">>
					<</if>>
					<<if $analdisable is "f" and $currentSexToyRight.type.includes("dildo")>>
						<<set _rightaction[$_trRightToy+" 당신의 항문에 가져간다"] to "dildoSelfAnusEntrance">>
					<</if>>
					<<if $player.penisExist and $currentSexToyRight.type.includes("stroker")>>
						<<set _rightaction[$_trRightToy+" 당신의 자지에 가져간다"] to "strokerSelfPenisEntrance">>
					<</if>>
				<</if>>
			<</if>>
		<</if>>
	<</if>>
<</widget>>

<<widget "dildoSelfPussyEntrance">>
	<<if _args[0] isnot undefined>>
		<<if _args[0] is "left">>
			<<set $_genitals_exposed to $worn.over_lower.vagina_exposed gte 1 and ($worn.lower.vagina_exposed gte 1 or $worn.lower.skirt gte 1) and $worn.under_lower.vagina_exposed gte 1 and $worn.genitals.vagina_exposed gte 1>>
			<<if $promiscuity gt 34 and ($lefttarget is "self" or $options.targetYourself is false or _targetnumber is 1)>>
				<<if $_genitals_exposed and $vaginause is 0>>
					<<silently>><<sextoyPost $currentSexToyLeft.name "name" "을">><<set $_trLeftToy to _trResult>><</silently>><<set _leftaction[$_trLeftToy + " 밀어넣는다"] to "dildoSelfPussy">>
				<</if>>
				<<if $_genitals_exposed and $anususe is 0>>
					<<silently>><<sextoyPost $currentSexToyLeft.name "name" "을">><<set $_trLeftToy to _trResult>><</silently>><<set _leftaction[$_trLeftToy+" 당신의 항문에 가져간다"] to "dildoSelfAnusEntrance">>
				<</if>>
			<</if>>

			<<set _leftaction["당신의 보지를 희롱한다"] to "dildoSelfPussyEntrance">>
			<<silently>><<sextoyPost $currentSexToyLeft.name "name" "을">><<set $_trLeftToy to _trResult>><</silently>><<set _leftaction[$_trLeftToy + " 내려놓는다"] to "dildoDrop">>
		<</if>>
		<<if _args[0] is "right">>
			<<set $_genitals_exposed to $worn.over_lower.vagina_exposed gte 1 and ($worn.lower.vagina_exposed gte 1 or $worn.lower.skirt gte 1) and $worn.under_lower.vagina_exposed gte 1 and $worn.genitals.vagina_exposed gte 1>>
			<<if $promiscuity gt 34 and ($righttarget is "self" or $options.targetYourself is false or _targetnumber is 1)>>
				<<if $_genitals_exposed and $vaginause is 0>>
					<<silently>><<sextoyPost $currentSexToyRight.name "name" "을">><<set $_trRightToy to _trResult>><</silently>><<set _rightaction[$_trRightToy + " 밀어넣는다"] to "dildoSelfPussy">>
				<</if>>
				<<if $_genitals_exposed and $anususe is 0>>
					<<silently>><<sextoyPost $currentSexToyRight.name "name" "을">><<set $_trRightToy to _trResult>><</silently>><<set _rightaction[$_trRightToy+" 당신의 항문에 가져간다"] to "dildoSelfAnusEntrance">>
				<</if>>
			<</if>>

			<<set _rightaction["당신의 보지를 희롱한다"] to "dildoSelfPussyEntrance">>
			<<silently>><<sextoyPost $currentSexToyRight.name "name" "을">><<set $_trRightToy to _trResult>><</silently>><<set _rightaction[$_trRightToy + " 내려놓는다"] to "dildoDrop">>
		<</if>>
	<</if>>
<</widget>>

<<widget "dildoSelfAnusEntrance">>
	<<if _args[0] isnot undefined>>
		<<if _args[0] is "left">>
			<<set $_genitals_exposed to $worn.over_lower.vagina_exposed gte 1 and ($worn.lower.vagina_exposed gte 1 or $worn.lower.skirt gte 1) and $worn.under_lower.vagina_exposed gte 1 and $worn.genitals.vagina_exposed gte 1>>
			<<set $_anus_exposed to $worn.over_lower.anus_exposed gte 1 and ($worn.lower.anus_exposed gte 1 or $worn.lower.skirt gte 1) and $worn.under_lower.anus_exposed gte 1 and $worn.genitals.anus_exposed gte 1>>
			<<if $promiscuity gt 34 and ($lefttarget is "self" or $options.targetYourself is false or _targetnumber is 1)>>
				<<if $_anus_exposed and $anususe is 0>>
					<<silently>><<sextoyPost $currentSexToyLeft.name "name" "을">><<set $_trLeftToy to _trResult>><</silently>><<set _leftaction[$_trLeftToy + " 밀어넣는다"] to "dildoSelfAnus">>
				<</if>>
				<<if $_genitals_exposed and $vaginause is 0>>
					<<silently>><<sextoyPost $currentSexToyLeft.name "name" "을">><<set $_trLeftToy to _trResult>><</silently>><<set _leftaction[$_trLeftToy+" 당신의 보지에 가져간다"] to "dildoSelfPussyEntrance">>
				<</if>>
			<</if>>

			<<set _leftaction["당신의 항문을 희롱한다"] to "dildoSelfAnusEntrance">>
			<<silently>><<sextoyPost $currentSexToyLeft.name "name" "을">><<set $_trLeftToy to _trResult>><</silently>><<set _leftaction[$_trLeftToy + " 내려놓는다"] to "dildoDrop">>
		<</if>>
		<<if _args[0] is "right">>
			<<set $_genitals_exposed to $worn.over_lower.vagina_exposed gte 1 and ($worn.lower.vagina_exposed gte 1 or $worn.lower.skirt gte 1) and $worn.under_lower.vagina_exposed gte 1 and $worn.genitals.vagina_exposed gte 1>>
			<<set $_anus_exposed to $worn.over_lower.anus_exposed gte 1 and ($worn.lower.anus_exposed gte 1 or $worn.lower.skirt gte 1) and $worn.under_lower.anus_exposed gte 1 and $worn.genitals.anus_exposed gte 1>>
			<<if $promiscuity gt 34 and ($righttarget is "self" or $options.targetYourself is false or _targetnumber is 1)>>
				<<if $_anus_exposed and $anususe is 0>>
					<<silently>><<sextoyPost $currentSexToyRight.name "name" "을">><<set $_trRightToy to _trResult>><</silently>><<set _rightaction[$_trRightToy + " 밀어넣는다"] to "dildoSelfAnus">>
				<</if>>
				<<if $_genitals_exposed and $vaginause is 0>>
					<<silently>><<sextoyPost $currentSexToyRight.name "name" "을">><<set $_trRightToy to _trResult>><</silently>><<set _rightaction[$_trRightToy+" 당신의 보지에 가져간다"] to "dildoSelfPussyEntrance">>
				<</if>>
			<</if>>

			<<set _rightaction["당신의 항문을 희롱한다"] to "dildoSelfAnusEntrance">>
			<<silently>><<sextoyPost $currentSexToyRight.name "name" "을">><<set $_trRightToy to _trResult>><</silently>><<set _rightaction[$_trRightToy + " 내려놓는다"] to "dildoDrop">>
		<</if>>
	<</if>>
<</widget>>

<<widget "strokerSelfPenisEntrance">>
	<<if _args[0] isnot undefined>>
		<<if _args[0] is "left">>
			<<set $_genitals_exposed to $worn.over_lower.vagina_exposed gte 1 and ($worn.lower.vagina_exposed gte 1 or $worn.lower.skirt gte 1) and $worn.under_lower.vagina_exposed gte 1 and $worn.genitals.vagina_exposed gte 1>>
			<<if $promiscuity gt 34 and ($lefttarget is "self" or $options.targetYourself is false or _targetnumber is 1)>>
				<<if $_genitals_exposed and $penisuse is 0>>
					<<silently>><<sextoyPost $currentSexToyLeft.name "name" "에">><<set $_trLeftToy to _trResult>><</silently>><<set _leftaction[$_trLeftToy + " 삽입한다"] to "strokerSelfPenis">>
				<</if>>
			<</if>>

			<<set _leftaction["당신의 자지를 희롱한다"] to "strokerSelfPenisEntrance">>
			<<silently>><<sextoyPost $currentSexToyLeft.name "name" "을">><<set $_trLeftToy to _trResult>><</silently>><<set _leftaction[$_trLeftToy + " 내려놓는다"] to "dildoDrop">>
		<</if>>

		<<if _args[0] is "right">>
			<<set $_genitals_exposed to $worn.over_lower.vagina_exposed gte 1 and ($worn.lower.vagina_exposed gte 1 or $worn.lower.skirt gte 1) and $worn.under_lower.vagina_exposed gte 1 and $worn.genitals.vagina_exposed gte 1>>
			<<if $promiscuity gt 34 and ($righttarget is "self" or $options.targetYourself is false or _targetnumber is 1)>>
				<<if $_genitals_exposed and $penisuse is 0>>
					<<silently>><<sextoyPost $currentSexToyRight.name "name" "에">><<set $_trRightToy to _trResult>><</silently>><<set _rightaction[$_trRightToy + " 삽입한다"] to "strokerSelfPenis">>
				<</if>>
			<</if>>

			<<set _rightaction["당신의 자지를 희롱한다"] to "strokerSelfPenisEntrance">>
			<<silently>><<sextoyPost $currentSexToyRight.name "name" "에">><<set $_trRightToy to _trResult>><</silently>><<set _rightaction[$_trRightToy + " 내려놓는다"] to "dildoDrop">>
		<</if>>
	<</if>>
<</widget>>

:: Widgets Effects Hands [widget]
<<widget "effectshandsclothes">>

/* Unified each clothing action for both hands. To add conditionals for both hands, use: if $leftaction is $rightaction as a block inside */

<<if $leftaction is "over_upper" or $rightaction is "over_upper">>
	<<if $leftaction is "over_upper">><<set $leftaction to 0>><<set $leftactiondefault to "rest">><</if>>
	<<if $rightaction is "over_upper">><<set $rightaction to 0>><<set $rightactiondefault to "rest">><</if>>
	<<if $worn.over_upper.name is "naked">>
		당신은 너덜너덜한 옷 조각을 움켜잡는다.
	<<elseif $worn.over_upper.open is 1>>
		<<set $worn.over_upper.exposed to 2>><<set $worn.over_upper.state_top to "midriff">>
		<<if $worn.upper.exposed lt 2>>
			당신은 <<worn_over_upper_name_ ul>> 밀어내린다.
		<<elseif $player.breastsize gte 3>>
			당신은 <<worn_over_upper_name_ ul>> 내리자 <span class="lewd"><<breasts_ ga>> 출렁 튀어나온다.</span>
		<<else>>
			당신은 <<worn_over_upper_name_ ul>> 내리자, <span class="lewd"><<breasts_ ga>> 노출된다.</span>
		<</if>>
	<<else>>
		<<set $worn.over_upper.exposed to 2>><<set $worn.over_upper.state to "chest">>
		<<if $worn.upper.exposed lt 2>>
			당신은 <<worn_over_upper_name_ ul>> 밀어올린다.
		<<elseif $player.breastsize gte 3>>
			당신은 <<worn_over_upper_name_ ul>> 들추자 <span class="lewd"><<breasts_ ga>> 출렁 튀어나온다.</span>
		<<else>>
			당신은 <<worn_over_upper_name_ ul>> 들추자, <span class="lewd"><<breasts_ ga>> 노출된다.</span>
		<</if>>
	<</if>>
<</if>>

<<if $leftaction is "upper" or $rightaction is "upper">>
	<<if $leftaction is "upper">><<set $leftaction to 0>><<set $leftactiondefault to "rest">><</if>>
	<<if $rightaction is "upper">><<set $rightaction to 0>><<set $rightactiondefault to "rest">><</if>>
	<<if $worn.upper.name is "naked">>
		당신은 입고 있던 옷의 너덜너덜한 잔해를 움켜쥔다.
	<<elseif $worn.upper.open is 1>>
		<<set $worn.upper.exposed to 2>><<set $worn.upper.state_top to "midriff">>
		<<if $player.breastsize gte 3>>
			당신이 <<trClothes "upper" $worn.upper.name "name" "을">>_trResult 내리자, <span class="lewd"> <<breastsPost "이">> 출렁 튀어나온다.</span>
		<<else>>
			당신이 <<trClothes "upper" $worn.upper.name "name" "을">>_trResult 내리자, <span class="lewd"> <<breastsPost "이">> 노출된다.</span>
		<</if>>
	<<else>>
		<<set $worn.upper.exposed to 2>><<set $worn.upper.state to "chest">>
		<<if $player.breastsize gte 3>>
			당신이 <<trClothes "upper" $worn.upper.name "name" "을">>_trResult 들추자, <span class="lewd"> <<breastsPost "이">> 출렁 튀어나온다.</span>
		<<else>>
			당신이 <<trClothes "upper" $worn.upper.name "name" "을">>_trResult 들추자, <span class="lewd"> <<breastsPost "이">> 노출된다.</span>
		<</if>>
	<</if>>
<</if>>

<<if $leftaction is "under_upper" or $rightaction is "under_upper">>
	<<if $leftaction is "under_upper">><<set $leftaction to 0>><<set $leftactiondefault to "rest">><</if>>
	<<if $rightaction is "under_upper">><<set $rightaction to 0>><<set $rightactiondefault to "rest">><</if>>
	<<if $worn.under_upper.name is "naked">>
		당신은 입고 있던 옷의 너덜너덜한 잔해를 움켜쥔다.
	<<elseif $worn.under_upper.open is 1>>
		<<set $worn.under_upper.exposed to 2>><<set $worn.under_upper.state_top to "midriff">>
		<<if $player.breastsize gte 3>>
			당신이 <<trClothes "under_upper" $worn.under_upper.name "name" "을">>_trResult 내리자, <span class="lewd"> <<breastsPost "이">> 출렁 튀어나온다.</span>
		<<else>>
			당신이 <<trClothes "under_upper" $worn.under_upper.name "name" "을">>_trResult 내리자, <span class="lewd"> <<breastsPost "이">> 노출된다.</span>
		<</if>>
	<<else>>
		<<set $worn.under_upper.exposed to 2>><<set $worn.under_upper.state to "chest">>
		<<if $player.breastsize gte 3>>
			당신이 <<trClothes "under_upper" $worn.under_upper.name "name" "을">>_trResult 들추자, <span class="lewd"> <<breastsPost "이">> 출렁 튀어나온다.</span>
		<<else>>
			당신이 <<trClothes "under_upper" $worn.under_upper.name "name" "을">>_trResult 들추자, <span class="lewd"> <<breastsPost "이">> 노출된다.</span>
		<</if>>
	<</if>>
<</if>>

/* Todo: over_lower here, but I don't know what the conditions should be. Please remove this comment when it's been fixed. */

<<if $leftaction is "lower" or $rightaction is "lower">>
	<<if $leftaction is "lower">><<set $leftaction to 0>><<set $leftactiondefault to "rest">><</if>>
	<<if $rightaction is "lower">><<set $rightaction to 0>><<set $rightactiondefault to "rest">><</if>>
	<<set $worn.lower.vagina_exposed to 1>><<set $worn.lower.anus_exposed to 1>><<set $worn.lower.exposed to 2>>
	<<if $worn.lower.name is "naked">>
		당신은 입고 있던 옷의 너덜너덜한 잔해를 움켜쥔다.
	<<elseif setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1>>
		<<set $worn.lower.skirt_down to 0>>
		당신이 <<trClothes "lower" $worn.lower.name "name" "을">>_trResult 들추자, <span class="lewd"><<undiesPost "이">> 노출된다.</span>
	<<else>>
		<<set $worn.lower.state to "thighs">>
		당신이 <<trClothes "lower" $worn.lower.name "name" "을">>_trResult 내리자, <span class="lewd"><<undiesPost "이">> 노출된다.</span>
	<</if>>
<</if>>

<<if $leftaction is "under_lower" or $rightaction is "under_lower">>
	<<if $leftaction is "under_lower">><<set $leftaction to 0>><<set $leftactiondefault to "rest">><</if>>
	<<if $rightaction is "under_lower">><<set $rightaction to 0>><<set $rightactiondefault to "rest">><</if>>

	<<set $worn.under_lower.anus_exposed to 1>><<set $worn.under_lower.vagina_exposed to 1>><<set $worn.under_lower.exposed to 2>>
	<<set $worn.under_lower.state to "thighs">>
	/* Strapon code is here, if needed to move to the genital-clothing section */
	<<if playerHasStrapon()>>
		<<if $playerPenisSizeBackup isnot undefined>>
			<<set $player.penissize to $playerPenisSizeBackup>>
		<</if>>
	<</if>>
	<<if $worn.under_lower.name is "naked">>
		당신은 입고 있던 옷의 너덜너덜한 잔해를 움켜쥔다.
	<<elseif $worn.lower.exposed gte 2>>
		당신이 <<trClothes "under_lower" $worn.under_lower.name "name" "을">>_trResult 내리자, <span class="lewd"><<genitalsPost "이">> 노출된다.</span>
	<<else>>
		당신은 <<worn_under_lower_name_ ul>> <<worn_lower_name>> 아래로 잡아내린다.
	<</if>>
<</if>>

<<if $leftaction is "mask" or $rightaction is "mask">>
	<<if $leftaction is "mask">><<set $leftaction to 0>><<set $leftactiondefault to "rest">><</if>>
	<<if $rightaction is "mask">><<set $rightaction to 0>><<set $rightactiondefault to "rest">><</if>>
	<<if $worn.face.name is "naked">>
		당신은 너덜너덜한 마스크 조각을 꽉 잡는다.
	<<else>>
		당신은 <<worn_face_name_ ul>> 잡아내려, <span class="lewd">당신의 얼굴을 드러낸다.</span>
	<</if>>
	<<facestrip>>
<</if>>

<</widget>>

<<widget "effectsspray">>

<<if $leftaction is "spray" and $rightaction is "spray">>
	<<set $leftactiondefault to "lefthit">><<set $rightactiondefault to "righthit">><<set $leftaction to 0>><<set $rightaction to 0>>
	<<if $spray gte 2>>
		<<set _baseDamage to 400>>
		<<set $spraystat += 2>><<spray -2>><<set $speechspray to 1>>
		<<if $enemytype is "beast">>
			당신은 양손에 스프레이를 들고는 <<beasttypePost "의">> 얼굴에 전부 뿌려버린다. 녀석은 낑낑거린다.
		<<elseif $NPCList[0].fullDescription is "Ivory Wraith">>
			당신은 양손에 스프레이를 들고는 그 형체의 얼굴에 전부 뿌려버린다. <span class="red">그것은 눈을 깜박이려고 하지도 않는다.</span>
		<<elseif $enemyno gte 2>>
			당신은 양손에 스프레이를 들고는, <<groupPost>>에게 전부 뿌려버린다. 그들은 얼굴을 움켜잡는다.
			<<if !$npc.includes("Eden") and !$npc.includes("Morgan") and !$npc.includes("Kylar") and !$abomination>>
				<<ggcrime>><<crimeup 500>>
			<</if>>
		<<else>>
			당신은 양손에 스프레이를 들고는 공격자에게 전부 뿌려버린다. <<HePost "은">> 얼굴을 움켜잡는다.
			<<if !$npc.includes("Eden") and !$npc.includes("Morgan") and !$npc.includes("Kylar") and !$abomination>>
				<<ggcrime>><<crimeup 500>>
			<</if>>
		<</if>>
	<<elseif $spray gte 1>>
		<<set _baseDamage to 200>>
		<<set $spraystat += 1>><<spray -1>><<set $speechspray to 1>>
		<<if $enemytype is "beast">>
			당신은 <<beasttypePost "의">> 얼굴에 스프레이를 뿌린다. 녀석은 낑낑거린다.
		<<elseif $NPCList[0].fullDescription is "Ivory Wraith">>
			당신은 그 형체의 얼굴에 스프레이를 뿌린다. <span class="red">그것은 눈을 깜박이려고 하지도 않는다.</span>
		<<elseif $enemyno gte 2>>
			당신은 <<groupPost>>에게 스프레이를 뿌린다. 그들은 얼굴을 움켜잡는다.
			<<if !$npc.includes("Eden") and !$npc.includes("Morgan") and !$npc.includes("Kylar") and !$abomination>>
				<<ggcrime>><<crimeup 500>>
			<</if>>
		<<else>>
			당신은 공격자에게 스프레이를 뿌린다. <<HePost "은">> 얼굴을 움켜잡는다.
			<<if !$npc.includes("Eden") and !$npc.includes("Morgan") and !$npc.includes("Kylar") and !$abomination>>
				<<ggcrime>><<crimeup 500>>
			<</if>>
		<</if>>
	<<else>>
		<<if $enemytype is "beast">>
			당신은 <<beasttypePost "의">> 얼굴에 스프레이를 뿌리려 한다. 아무 것도 나오지 않는다.
		<<elseif $enemyno gte 2>>
			당신은 <<groupPost>>에게 스프레이를 뿌리려 한다. 아무 것도 나오지 않는다.
		<<else>>
			당신은 공격자에게 스프레이를 뿌리려 한다. 아무 것도 나오지 않는다.
		<</if>>
	<</if>>
<<elseif $leftaction is "spray">>
	<<set $leftactiondefault to "lefthit">><<set $leftaction to 0>>
	<<if $spray gte 1>>
		<<set _baseDamage to 200>>
		<<set $spraystat += 1>><<spray -1>><<set $speechspray to 1>>
		<<if $enemytype is "beast">>
			당신은 <<beasttypePost "의">> 얼굴에 스프레이를 뿌린다. 녀석은 낑낑거린다.
		<<elseif $NPCList[0].fullDescription is "Ivory Wraith">>
			당신은 그 형체의 얼굴에 스프레이를 뿌린다. <span class="red">그것은 눈을 깜박이려고 하지도 않는다.</span>
		<<elseif $enemyno gte 2>>
			당신은 <<groupPost>>에게 스프레이를 뿌린다. 그들은 얼굴을 움켜잡는다.
			<<if !$npc.includes("Eden") and !$npc.includes("Morgan") and !$npc.includes("Kylar") and !$abomination>>
				<<ggcrime>><<crimeup 500>>
			<</if>>
		<<else>>
			당신은 공격자에게 스프레이를 뿌린다. <<HePost "은">> 얼굴을 움켜잡는다.
			<<if !$npc.includes("Eden") and !$npc.includes("Morgan") and !$npc.includes("Kylar") and !$abomination>>
				<<ggcrime>><<crimeup 500>>
			<</if>>
		<</if>>
	<<else>>
		<<if $enemytype is "beast">>
			당신은 <<beasttypePost "의">> 얼굴에 스프레이를 뿌리려 한다. 아무 것도 나오지 않는다.
		<<elseif $enemyno gte 2>>
			당신은 <<groupPost>>에게 스프레이를 뿌리려 한다. 아무 것도 나오지 않는다.
		<<else>>
			당신은 공격자에게 스프레이를 뿌리려 한다. 아무 것도 나오지 않는다.
		<</if>>
	<</if>>
<<elseif $rightaction is "spray">>
	<<set $rightactiondefault to "righthit">><<set $rightaction to 0>>
	<<if $spray gte 1>>
		<<set _baseDamage to 200>>
		<<set $spraystat += 1>><<spray -1>><<set $speechspray to 1>>
		<<if $enemytype is "beast">>
			당신은 <<beasttypePost "의">> 얼굴에 스프레이를 뿌린다. 녀석은 낑낑거린다.
		<<elseif $NPCList[0].fullDescription is "Ivory Wraith">>
			당신은 그 형체의 얼굴에 스프레이를 뿌린다. <span class="red">그것은 눈을 깜박이려고 하지도 않는다.</span>
		<<elseif $enemyno gte 2>>
			당신은 <<groupPost>>에게 스프레이를 뿌린다. 그들은 얼굴을 움켜잡는다.
			<<if !$npc.includes("Eden") and !$npc.includes("Morgan") and !$npc.includes("Kylar") and !$abomination>>
				<<ggcrime>><<crimeup 500>>
			<</if>>
		<<else>>
			당신은 공격자에게 스프레이를 뿌린다. <<HePost "은">> 얼굴을 움켜잡는다.
			<<if !$npc.includes("Eden") and !$npc.includes("Morgan") and !$npc.includes("Kylar") and !$abomination>>
				<<ggcrime>><<crimeup 500>>
			<</if>>
		<</if>>
	<<else>>
		<<if $enemytype is "beast">>
			당신은 <<beasttypePost "의">> 얼굴에 스프레이를 뿌리려 한다. 아무 것도 나오지 않는다.
		<<elseif $enemyno gte 2>>
			당신은 <<groupPost>>에게 스프레이를 뿌리려 한다. 아무 것도 나오지 않는다.
		<<else>>
			당신은 공격자에게 스프레이를 뿌리려 한다. 아무 것도 나오지 않는다.
		<</if>>
	<</if>>
<</if>>

<<if _baseDamage>>
	<<set _totalDamage to 0>>
	<<set _npctodefeat to []>>
	<<for _npctodamage to 0; _npctodamage lt $enemynomax; _npctodamage++>>
		<<if $NPCList[_npctodamage].active is "active" and $NPCList[_npctodamage].stance isnot "defeated" and (!$fightTargets or $fightTargets.includes(_npctodamage))>>
			<<set _enemydivide to $fightTargets ? $enemyno-$fightTargets.length : $enemyno>> /* Divide damage by all current active enemies. */
			<<set _thedamage to _baseDamage/_enemydivide>>
			<<if $NPCList[_npctodamage].fullDescription is "Ivory Wraith">>
				<<set _thedamage to (_thedamage / 4)>>
			<</if>>
			<<set $NPCList[_npctodamage].health -= _thedamage>>
			<<set _totalDamage += _thedamage>>
			<<if $enemyno gte 2 and $NPCList[_npctodamage].health lte 0>>
				<<set _npctodefeat.push(_npctodamage)>>
			<</if>>
		<</if>>
	<</for>>
	<<for $_defeatcontroller to 0; $_defeatcontroller lt _npctodefeat.length; $_defeatcontroller++>>
		<<if $enemyno gte 2>>
		<<defeatnpc _npctodefeat[$_defeatcontroller]>>
		<</if>>
	<</for>>
	<<set $enemyhealth -= _totalDamage>>
<</if>>

<</widget>>

<<widget "effectssteal">>

<<if $leftaction is "steal" and $rightaction is "steal" and $lefttarget is $righttarget>>
	<<set $leftaction to 0>><<set $rightaction to 0>>
	<<set $leftactiondefault to "steal">><<set $rightactiondefault to "steal">>
	<<if $easySteal isnot 1>><<set $skulduggerydifficulty += 400>><</if>><<skulduggerycheck>>
	<<unset $stealstateleft>><<unset $stealstateright>>
	<<personselect $lefttarget>>
	<<if $skulduggerysuccess is 1>>
		<<set $stealtarget += $lefttarget>><<set $stealdifficulty += 0.2>>
		당신은 <<personPost "의">> <<wallet_ ul>> 샅샅이 뒤진다. <<encountersteal>>
		<<set $leftactiondefault to "rest">><<set $rightactiondefault to "rest">>
	<<else>>
		<<brat 30 $lefttarget>><<set $speechsteal to 1>>
		당신은 <<personPost "의">> <<wallet_ ul>> 샅샅이 뒤진다. <<He_ nun>> 그걸 눈치채고는 <<hisPost "의">> 귀중품들을 치운다.
	<</if>>
<</if>>

<<if $leftaction is "steal">>
	<<set $leftactiondefault to "steal">><<set $leftaction to 0>><<skulduggerycheck>>
	<<personselect $lefttarget>>
	<<if $skulduggerysuccess is 1>>
		<<if $stealstateleft is undefined>>
			<<set $stealstateleft to 0>>
			당신은 <<personPost "의">> 살갗을 손으로 더듬다가, 곧 <<hisPost "의">> <<wallet_ ul>> 만진다.
		<<elseif $stealstateleft is 0>>
			<<set $stealstateleft to 1>>
			당신은 <<personPost "의">> <<wallet_ ul>> 연다.
		<<elseif $stealstateleft is 1>>
			<<set $stealstateleft to 2>>
			당신은 <<personPost "의">> <<wallet_ ul>> 샅샅이 뒤진다.
		<<else>>
			<<unset $stealstateleft>><<set $stealtarget += $lefttarget>><<set $stealdifficulty += 0.2>>
			당신은 <<personPost "의">> <<walletPost>> 안에 몰래 손을 집어넣는다. <<encountersteal>><<set $leftactiondefault to "rest">>
		<</if>>
	<<else>>
		<<brat 30 $lefttarget>><<set $speechsteal to 1>>
		<<if $stealstateleft is undefined>>
			당신은 <<personPost "의">> 살갗을 손으로 더듬다가, 곧 <<hisPost "의">> <<wallet_ ul>> 만진다. <<HePost "은">> 속지 않는다. <<HePost "은">> <<hisPost "의">> 귀중품들을 치운다.
		<<elseif $stealstateleft is 0>>
			당신은 <<personPost "의">> <<wallet_ ul>> 열려 한다. <<HePost "은">> 그걸 눈치채고는 <<hisPost "의">> 귀중품들을 치운다.
		<<elseif $stealstateleft is 1>>
			당신은 <<personPost "의">> <<wallet_ ul>> 샅샅이 뒤진다. <<HePost "은">> 그걸 눈치채고는 <<hisPost "의">> 귀중품들을 치운다.
		<<else>>
			당신은 <<personPost "의">> <<walletPost>> 안에 몰래 손을 집어넣는다. <<HePost "은">> 그걸 눈치채고는 <<hisPost "의">> 귀중품들을 치운다.
		<</if>>
		<<unset $stealstateleft>>
	<</if>>
<</if>>

<<if $rightaction is "steal">>
	<<set $rightaction to 0>><<set $rightactiondefault to "steal">><<skulduggerycheck>>
	<<personselect $righttarget>>
	<<if $skulduggerysuccess is 1>>
		<<if $stealstateright is undefined>>
			<<set $stealstateright to 0>>
			당신은 <<personPost "의">> 살갗을 손으로 더듬다가, 곧 <<hisPost "의">> <<wallet_ ul>> 만진다.
		<<elseif $stealstateright is 0>>
			<<set $stealstateright to 1>>
			당신은 <<personPost "의">> <<wallet_ ul>> 연다. 
		<<elseif $stealstateright is 1>>
			<<set $stealstateright to 2>>
			당신은 <<personPost "의">> <<wallet_ ul>> 샅샅이 뒤진다. 
		<<else>>
			<<unset $stealstateright>><<set $stealtarget += $righttarget>><<set $stealdifficulty += 0.2>>
			당신은 <<personPost "의">> <<walletPost>> 안에 몰래 손을 집어넣는다. <<encountersteal>><<set $rightactiondefault to "rest">>
		<</if>>
	<<else>>
		<<brat 30 $righttarget>><<set $speechsteal to 1>>
		<<if $stealstateright is undefined>>
			당신은 <<personPost "의">> 살갗을 손으로 더듬다가, 곧 <<hisPost "의">> <<wallet_ ul>> 만진다. <<HePost "은">> 속지 않는다. <<HePost "은">> <<hisPost "의">> 귀중품들을 치운다.
		<<elseif $stealstateright is 0>>
			당신은 <<personPost "의">> <<wallet_ ul>> 열려 한다. <<HePost "은">> 그걸 눈치채고는 <<hisPost "의">> 귀중품들을 치운다.
		<<elseif $stealstateright is 1>>
			당신은 <<personPost "의">> <<wallet_ ul>> 샅샅이 뒤진다. <<HePost "은">> 그걸 눈치채고는 <<hisPost "의">> 귀중품들을 치운다.
		<<else>>
			당신은 <<personPost "의">> <<walletPost>> 안에 몰래 손을 집어넣는다. <<HePost "은">> 그걸 눈치채고는 <<hisPost "의">> 귀중품들을 치운다.
		<</if>>
		<<unset $stealstateright>>
	<</if>>
<</if>>
<</widget>>

<<widget "effectspenwhack">>
<!--todo: maybe add some botched tattoos if pen is too close -->
<<if $leftaction is "penwhack">>
	<<set $leftaction to 0>>
	<<set $_target to $NPCList[$lefttarget]>>
	<<if $_target.lefthand and ($_target.lefthand is "pen" or $_target.lefthand.startsWith("pen_"))>>
		당신은 <<personselect $lefttarget>><<personPost "의">> 손에서 <<handtoolPost $_target.lefttool "을">> 쳐낸다.
		<<if $_target.fullDescription is "Sydney" or ($_target.fullDescription is "Kylar" and $NPCName[$NPCNameList.indexOf("Kylar")].rage lte 35) or $_target.type is "plant">>
			<<He_ nun>> 뿌루퉁하게 당신에게 입술을 내민다.
			<<brat 2 $lefttarget>>
		<<else>>
			<<HePost "의">> 얼굴에 분노가 번진다.
			<<brat 5 $lefttarget>>
		<</if>>
		<<brat 5 $lefttarget>><<set $_target.lefthand to 0>><<set $_target.lefttool to 0>>
	<<elseif $_target.righthand and ($_target.righthand is "pen" or $_target.righthand.startsWith("pen_"))>>
		당신은 <<personselect $lefttarget>><<personPost "의">> 손에서 <<handtoolPost $_target.righttool "을">> 쳐낸다.
		<<if $_target.fullDescription is "Sydney" or ($_target.fullDescription is "Kylar" and $NPCName[$NPCNameList.indexOf("Kylar")].rage lte 35) or $_target.type is "plant">>
			<<He_ nun>> 뿌루퉁하게 당신에게 입술을 내민다.
			<<brat 2 $lefttarget>>
		<<else>>
			<<HePost "의">> 얼굴에 분노가 번진다.
			<<brat 5 $lefttarget>>
		<</if>>
		<<brat 5 $lefttarget>><<set $_target.righthand to 0>><<set $_target.righttool to 0>>
	<</if>>
<</if>>

<<if $rightaction is "penwhack">>
	<<set $rightaction to 0>>
	<<set $_target to $NPCList[$righttarget]>>
	<<if $_target.lefthand and ($_target.lefthand is "pen" or $_target.lefthand.startsWith("pen_"))>>
		당신은 <<personselect $righttarget>><<personPost "의">> 손에서 <<handtoolPost $_target.lefttool "을">> 쳐낸다.
		<<if $_target.fullDescription is "Sydney" or ($_target.fullDescription is "Kylar" and $NPCName[$NPCNameList.indexOf("Kylar")].rage lte 35) or $_target.type is "plant">>
			<<He_ nun>> 뿌루퉁하게 당신에게 입술을 내민다.
			<<brat 2 $righttarget>>
		<<else>>
			<<HePost "의">> 얼굴에 분노가 번진다.
			<<brat 5 $righttarget>>
		<</if>>
		<<brat 5 $righttarget>><<set $_target.lefthand to 0>><<set $_target.lefttool to 0>>
	<<elseif typeof($_target.righthand) is "string" and ($_target.righthand is "pen" or $_target.righthand.startsWith("pen_"))>>
		당신은 <<personselect $righttarget>><<personPost "의">> 손에서 <<handtoolPost $_target.righttool "을">> 쳐낸다.
		<<if $_target.fullDescription is "Sydney" or ($_target.fullDescription is "Kylar" and $NPCName[$NPCNameList.indexOf("Kylar")].rage lte 35) or $_target.type is "plant">>
			<<He_ nun>> 뿌루퉁하게 당신에게 입술을 내민다.
			<<brat 2 $righttarget>>
		<<else>>
			<<HePost "의">> 얼굴에 분노가 번진다.
			<<brat 5 $righttarget>>
		<</if>>
		<<brat 5 $righttarget>><<set $_target.righthand to 0>><<set $_target.righttool to 0>>
	<</if>>
<</if>>
<</widget>>

<<widget "effectsshacklewhack">>
<<if $leftaction is "shacklewhack">>
	<<set $leftaction to 0>>
	<<personselect $lefttarget>>
	<<set $_target to $NPCList[$lefttarget]>>
	<<if $_target.lefthand is "shackle_entrance" or $_target.lefthand is "shackle_imminent">>
		<<combat-reset-hand "left">>
	<<elseif $_target.righthand is "shackle_entrance" or $_target.righthand is "shackle_imminent">>
		<<combat-reset-hand "right">>
	<</if>>
	당신은 그 <<persons_ yi>> 손에서 족쇄를 쳐낸다. <<He_ nun>> <<his_ yi>> 주먹을 꽉 쥔다.
	<<brat 10 $lefttarget>>
<</if>>

<<if $rightaction is "shacklewhack">>
	<<set $rightaction to 0>>
	<<personselect $righttarget>>
	<<set $_target to $NPCList[$righttarget]>>
	<<if $_target.lefthand is "shackle_entrance" or $_target.lefthand is "shackle_imminent">>
		<<combat-reset-hand "left">>
	<<elseif $_target.righthand is "shackle_entrance" or $_target.righthand is "shackle_imminent">>
		<<combat-reset-hand "right">>
	<</if>>
	당신은 그 <<persons_ yi>> 손에서 족쇄를 쳐낸다. <<He_ nun>> <<his_ yi>> 주먹을 꽉 쥔다.
	<<brat 10 $righttarget>>
<</if>>
<</widget>>

<<widget "effectshypnosiswhack">>
<<if $leftaction is "hypnosiswhack">>
	<<set $leftaction to 0>>
	<<personselect $lefttarget>>
	<<set $_target to $NPCList[$lefttarget]>>
	<<if $_target.lefthand is "hypnosis" or $_target.lefthand is "hypnosis_scream" or $_target.lefthand is "hypnosis_cover" or $_target.lefthand is "hypnosis_orgasm" or $_target.lefthand is "hypnosis_masochism">>
		당신은 <<personselect $lefttarget>><<personPost "의">> 손에서 <<handtoolPost $_target.lefttool "을">> 쳐낸다.
		<<combat-reset-hand "left">><<set $_target.lefttool to 0>>
	<<elseif $_target.righthand is "hypnosis" or $_target.righthand is "hypnosis_scream" or $_target.righthand is "hypnosis_cover" or $_target.righthand is "hypnosis_orgasm" or $_target.righthand is "hypnosis_masochism">>
		당신은 <<personselect $lefttarget>><<personPost "의">> 손에서 <<handtoolPost $_target.righttool "을">> 쳐낸다.
		<<combat-reset-hand "right">><<set $_target.righttool to 0>>
	<</if>>
	<<brat 10 $lefttarget>>
<</if>>

<<if $rightaction is "hypnosiswhack">>
	<<set $rightaction to 0>>
	<<personselect $righttarget>>
	<<set $_target to $NPCList[$righttarget]>>
	<<if $_target.lefthand is "hypnosis" or $_target.lefthand is "hypnosis_scream" or $_target.lefthand is "hypnosis_cover" or $_target.lefthand is "hypnosis_orgasm" or $_target.lefthand is "hypnosis_masochism">>
		당신은 <<personselect $righttarget>><<personPost "의">> 손에서 <<handtoolPost $_target.lefttool "을">> 쳐낸다.
		<<combat-reset-hand "left">><<set $_target.lefttool to 0>>
	<<elseif $_target.righthand is "hypnosis" or $_target.righthand is "hypnosis_scream" or $_target.righthand is "hypnosis_cover" or $_target.righthand is "hypnosis_orgasm" or $_target.righthand is "hypnosis_masochism">>
		당신은 <<personselect $righttarget>><<personPost "의">> 손에서 <<handtoolPost $_target.righttool "을">> 쳐낸다.
		<<combat-reset-hand "right">><<set $_target.righttool to 0>>
	<</if>>
	<<brat 10 $righttarget>>
<</if>>
<</widget>>

<<widget "effectsdildowhack">>
<<if $leftaction is "dildowhack">>
	<<set $leftaction to 0>>
	<<set $_target to $NPCList[$lefttarget]>>
	<<if typeof($_target.lefthand) is "string" and $_target.lefthand.includes("dildo")>>
		당신은 <<personselect $lefttarget>><<personPost "의">> 손에서 <<handtoolPost $_target.lefttool "을">> 쳐낸다.
		<<if $_target.fullDescription is "Sydney" or ($_target.fullDescription is "Robin" and $NPCName[$NPCNameList.indexOf("Robin")].rage lte 35) or $_target.type is "plant">>
			<<He_ nun>> 뿌루퉁하게 당신에게 입술을 내민다.
			<<brat 2 $lefttarget>>
		<<elseif $consensual is 1>>
			<<his_ yi>> 얼굴에 실망감이 스친다.
			<<brat 2 $lefttarget>>
		<<else>>
			<<HePost "의">> 얼굴에 분노가 번진다.
			<<brat 5 $lefttarget>>
		<</if>>
		<<brat 5 $lefttarget>><<set $_target.lefthand to 0>><<set $_target.lefttool to 0>>
	<<elseif typeof($_target.righthand) is "string" and $_target.righthand.includes("dildo")>>
		당신은 <<personselect $lefttarget>><<personPost "의">> 손에서 <<handtoolPost $_target.righttool "을">> 쳐낸다.
		<<if $_target.fullDescription is "Sydney" or ($_target.fullDescription is "Robin" and $NPCName[$NPCNameList.indexOf("Robin")].rage lte 35) or $_target.type is "plant">>
			<<He_ nun>> 뿌루퉁하게 당신에게 입술을 내민다.
			<<brat 2 $lefttarget>>
		<<elseif $consensual is 1>>
			<<his_ yi>> 얼굴에 실망감이 스친다.
		<<else>>
			<<HePost "의">> 얼굴에 분노가 번진다.
			<<brat 5 $lefttarget>>
		<</if>>
		<<brat 5 $lefttarget>><<set $_target.righthand to 0>><<set $_target.righttool to 0>>
	<</if>>
<</if>>

<<if $rightaction is "dildowhack">>
	<<set $rightaction to 0>>
	<<set $_target to $NPCList[$righttarget]>>
	<<if typeof($_target.lefthand) is "string" and $_target.lefthand.includes("dildo")>>
		당신은 <<personselect $righttarget>><<personPost "의">> 손에서 <<handtoolPost $_target.lefttool "을">> 쳐낸다.
		<<if $_target.fullDescription is "Sydney" or ($_target.fullDescription is "Robin" and $NPCName[$NPCNameList.indexOf("Robin")].rage lte 35) or $_target.type is "plant">>
			<<He_ nun>> 뿌루퉁하게 당신에게 입술을 내민다.
			<<brat 2 $righttarget>>
		<<elseif $consensual is 1>>
			<<his_ yi>> 얼굴에 실망감이 스친다.
			<<brat 2 $righttarget>>
		<<else>>
			<<HePost "의">> 얼굴에 분노가 번진다.
			<<brat 5 $righttarget>>
		<</if>>
		<<brat 5 $righttarget>><<set $_target.lefthand to 0>><<set $_target.lefttool to 0>>
	<<elseif typeof($_target.righthand) is "string" and $_target.righthand.includes("dildo")>>
		당신은 <<personselect $righttarget>><<personPost "의">> 손에서 <<handtoolPost $_target.righttool "을">> 쳐낸다.
		<<if $_target.fullDescription is "Sydney" or ($_target.fullDescription is "Robin" and $NPCName[$NPCNameList.indexOf("Robin")].rage lte 35) or $_target.type is "plant">>
			<<He_ nun>> 뿌루퉁하게 당신에게 입술을 내민다.
			<<brat 2 $righttarget>>
		<<elseif $consensual is 1>>
			<<his_ yi>> 얼굴에 실망감이 스친다.
			<<brat 2 $righttarget>>
		<<else>>
			<<HePost "의">> 얼굴에 분노가 번진다.
			<<brat 5 $righttarget>>
		<</if>>
		<<brat 5 $righttarget>><<set $_target.righthand to 0>><<set $_target.righttool to 0>>
	<</if>>
<</if>>
<</widget>>

<<widget "effectshandsfreeface">>
	<<if $leftaction is "freeface" or $rightaction is "freeface">>
		<<if $leftaction is "freeface" and $rightaction is "freeface">>
			<<set $leftaction to 0>><<set $leftactiondefault to "freeface">>
			<<set $rightaction to 0>><<set $rightactiondefault to "freeface">>
			<<set _freestrength to 2.5>>
			당신은 양손으로 얼굴을 풀어내려 하였다.
		<<elseif $leftaction is "freeface">>
			<<set $leftaction to 0>><<set $leftactiondefault to "freeface">>
			<<set _freestrength to 1>>
			당신은 손으로 얼굴을 풀어내려 하였다.
		<<elseif $rightaction is "freeface">>
			<<set $rightaction to 0>><<set $rightactiondefault to "freeface">>
			<<set _freestrength to 1>>
			당신은 손으로 얼굴을 풀어내려 하였다.
		<</if>>

		<<set _npc to $NPCList[$mouthtarget]>><<personselect $mouthtarget>>
		<<set _nectarDifficulty to Math.clamp($drugged, 0, 500) + Math.clamp($nectar_addiction, 0, 500)>>
		<<willpowerdifficulty _nectarDifficulty $willpowermax "silent">>
		<<if (($mouthuse is "facesit" and $mouthstate is "vagina") or ["nipple","breasts"].includes($mouthstate)) and (_npc.type is "plant") and !$willpowerSuccess>>
			<span class="red">하지만, 당신은 달콤한 꿀에서 당신을 떼어놓을 수가 없다.</span>
			<<if $mouthstate is "nipple">>
				당신은 필사적으로 <<his_ yi>> <<trBreastsdesc _npc.breastdesc "을">>_trResult 빨아댄다.
			<<elseif $mouthstate is "breasts">>
				당신은 당신의 얼굴을 <<his_ yi>> <<trBreastsdesc _npc.breastdesc>>_trResult에 다시 갖다댄다.
			<<else>>
				당신은 필사적으로 당신의 얼굴을 누르는 보지를 핥아댄다.
			<</if>>
			<<willpower 1>>
		<<else>>
			<<if (1000 - ($rng * 10) - ((currentSkillValue('physique') / $physiquemax * 100) * _freestrength) + ($enemyanger * 0.5)) lte
					(200 + $enemytrust)>>
				<span class="green">
					<<if $mouthuse is "facesit">>
						<<print either(
							"그리고 <<him_ ul>> 얼굴에서 어떻게든 밀어낸다.",
							"그리고 <<his_ yi>> 아래에서 빠져나올 수 있을 만큼 <<his_ yi>> 엉덩이를 들어올린다.",
							"그리고 <<him_ ul>> 얼굴에서 어떻게든 젖힌다."
						)>>
						<<set _npc.vagina to 0>><<set _npc.location.genitals to 0>>
					<<elseif $mouthstate is "nipple">>
						<<print either(
							"그리고 <<his_ yi>> <<trBreastsdesc _npc.breastdesc>>_trResult에서 어떻게든 입을 떼어낸다.",
							"그리고 <<his_ yi>> <<breastsdesc_ rul _npc.breastdesc>> 밀어내어, 입에서 <<his_ yi>> 유두를 빼낸다.",
							"그리고 <<his_ yi>> <<breastsdesc_ rul _npc.breastdesc>> 어떻게든 밀쳐내어, 입을 풀어낸다."
						)>>
						<<set _npc.chest to 0>><<set _npc.location.head to 0>>
						<<if _npc.lefthand is "head_nipples">>
							<<set _npc.lefthand to 0>>
						<</if>>
						<<if _npc.righthand is "head_nipples">>
							<<set _npc.righthand to 0>>
						<</if>>
					<<elseif $mouthstate is "breasts">>
						<<print either(
							"그리고 <<his_ yi>> <<trBreastsdesc _npc.breastsdesc>>_trResult<<if _npc.breastsize gte 6>> 사이<</if>>에서 어떻게든 얼굴을 풀어낸다.",
							"그리고 <<his_ yi>> <<trBreastsdesc _npc.breastsdesc>>_trResult<<if _npc.breastsize gte 6>> 사이<</if>>에서 몸부림쳐 빠져나온다.",
							"그리고 <<his_ yi>> <<breastsdesc_ rul _npc.breastsdesc>> 얼굴에서 <<if _npc.breastsize lt 6>>밀쳐낸다<<else>>들어올린다<</if>>."
						)>>
						<<set _npc.chest to 0>><<set _npc.location.head to 0>>
						<<if _npc.lefthand is "head_breasts">>
							<<set _npc.lefthand to 0>>
						<</if>>
						<<if _npc.righthand is "head_breasts">>
							<<set _npc.righthand to 0>>
						<</if>>
					<<elseif ["lefthand", "righthand"].includes($mouthuse)>>
						<<print either(
							"그리고 <<his_ yi>> 손을 입에서 비틀어 떼어낸다.",
							"그리고 <<his_ yi>> 손을 입에서 전력을 다해 밀어낸다.",
							"그리고 <<his_ yi>> 손아귀를 비틀어, 입을 풀어낸다."
						)>>
						<<if _npc.lefthand is "mouth">>
							<<set _npc.lefthand to 0>>
						<</if>>
						<<if _npc.righthand is "mouth">>
							<<set _npc.righthand to 0>>
						<</if>>
					<<elseif $mouthstate is "otheranus">>
						<<print either(
							"그리고 <<his_ yi>> 엉덩이를 당신의 얼굴에서 밀쳐낸다.",
							"그리고 <<his_ yi>> 엉덩이를 당신의 입에서 어떻게든 밀쳐낸다.",
							"그리고 <<him_ ul>> 힘껏 밀어내어 <<his_ yi>> 엉덩이를 당신의 입에서 밀쳐낸다."
						)>>
						<<if _npc.penis is "mouthotheranus">>
							<<set _npc.penis to 0>>
						<</if>>
						<<if _npc.vagina is "mouthotheranus">>
							<<set _npc.vagina to 0>>
						<</if>>
						<<set _npc.location.genitals to 0>>
					<</if>>
				</span>
				<<set $mouthuse to 0>><<set $mouthstate to 0>><<set $mouthaction to 0>><<set $head to 0>>
				<<brat 4>><<brat 1>>
			<<else>>
				<span class="red">
					<<if $mouthuse is "facesit">>
						<<if $rng % 4 == 0 and (_npc.lefthand is 0 or _npc.righthand is 0)>>
							<<if _npc.lefthand is 0>>
								<<set _npc.lefthand to "arms">>
							<<else>>
								<<set _npc.righthand to "arms">>
							<</if>>

							<<if $leftactiondefault is "freeface">>
								<<set $leftarm to "grappled">>
							<</if>>
							<<if $rightactiondefault is "freeface">>
								<<set $rightarm to "grappled">>
							<</if>>

							<<if _freestrength is 1>>
								하지만, <<he_ nun>> 당신의 팔을 붙잡아 <<his_ yi>> 넓적다리로 고정시킨다.
							<<else>>
								하지만, <<he_ nun>> 당신의 팔을 잡아 <<his_ yi>> 넓적다리로 움직이지 못하게 한다.
							<</if>>
						<<else>>
							<<print either(
								"하지만 당신은 <<his_ yi>> 몸무게를 이겨내지 못한다.",
								"하지만 <<he_ nun>> <<himself_ rul>> 당신의 얼굴에 더 확고하게 자리잡는다.",
								"하지만 <<he_ nun>> <<his_ yi>> 자세를 가다듬더니 더 세게 내려앉는다."
							)>>
						<</if>>

					<<elseif $mouthstate is "nipple">>
						<<if $rng % 4 == 0>>
							하지만, <<he_ nun>> <<his_ yi>> <<breastsdesc_ rul _npc.breastdesc>> 당신의 얼굴에 더 세게 밀어붙여, <<his_ yi>> 유두를 당신의 항의하려는 입에 강제로 집어넣는다.
							<<violence 3>>
						<<else>>
							<<print either(
								"하지만 <<his_ yi>> <<breastsdesc_ rul _npc.breastdesc>> 당신의 입에서 치울 수가 없다.",
								"하지만 <<his_ yi>> 유두는 당신의 입에 확실하게 밀어넣어져 있다.",
								"하지만 <<his_ yi>> <<breastsdesc_ rul _npc.breastdesc>> 당신의 입에서 밀어낼 수가 없다."
							)>>
						<</if>>

					<<elseif $mouthstate is "breasts">>
						<<if $rng % 4 == 0>>
							<<if _npc.breastsize gte 6>>
								하지만, <<he_ nun>> 당신의 얼굴을 <<his_ yi>> <<trBreastsdesc _npc.breastdesc>>_trResult 사이로 더욱 확고하게 짓눌러댄다.
								<<violence 4>><<bruise face>>
							<<else>>
								하지만, <<he_ nun>> 당신의 얼굴을 <<his_ yi>> <<trBreastsdesc _npc.breastdesc>>_trResult에 더욱 확고하게 밀어붙인다.
								<<violence 1>>
							<</if>>
						<<else>>
							<<print either(
								"하지만 <<his_ yi>> <<trBreastsdesc _npc.breastdesc>>_trResult에서 빠져나올 수가 없다.",
								"하지만 <<his_ yi>> <<breastsdesc_ ga _npc.breastsdesc>> 계속 당신의 얼굴을 <<if _npc.breastsize gte 6>>에워싸고<<else>>눌러대고<</if>> 있다.",
								"하지만 <<his_ yi>> <<breastsdesc_ rul _npc.breastdesc>> 당신의 얼굴에서 밀어낼 수가 없다."
							)>>
						<</if>>
					<<elseif ["lefthand", "righthand"].includes($mouthuse)>>
						<<if $rng % 4 == 0>>
							하지만 <<he_ nun>> 당신의 입을 더욱 확고하게 옥죄었고, 그러면서 <<his_ yi>> 손톱이 당신의 얼굴에 박힌다.
							<<violence 3>><<bruise face>>
						<<else>>
							<<print either(
								"하지만 당신은 <<his_ yi>> 손을 밀어낼 수 없다.",
								"하지만 <<his_ yi>> 손은 당신의 입에 확고하게 자리잡고 있다.",
								"하지만 당신은 <<his_ yi>> 손을 입에서 떼어낼 수 없다."
							)>>
						<</if>>
					<<elseif $mouthstate is "otheranus">>
						<<if $rng % 4 == 0>>
							하지만 <<he_ nun>> 당신의 손을 밀쳐내고 얼굴을 찰싹 때린다.
							<<violence 1>><<bruise face>>
						<<else>>
							<<print either(
								"하지만 당신은 <<him_ ul>> 움직일 수 없다.",
								"하지만 <<his_ yi>> 엉덩이는 당신의 입술을 계속 누르고 있다.",
								"하지만 당신은 <<him_ ul>> 얼굴에서 밀어낼 수 없다."
							)>>
						<</if>>
					<</if>>
				</span>
				<<brat 2>>
			<</if>>
		<</if>>
	<</if>>
<</widget>>

<<widget "effectshandpull">>
	<<if $leftaction is "handpullpenis" or $rightaction is "handpullpenis">>
		<<if $leftaction is "handpullpenis" and $rightaction is "handpullpenis">>
			<<set $leftaction to 0>><<set $leftactiondefault to "handpullpenis">>
			<<set $rightaction to 0>><<set $rightactiondefault to "handpullpenis">>
			<<personselect $lefttarget>><<set $_handPullDifficulty to 500>>
		<<elseif $leftaction is "handpullpenis">>
			<<set $leftaction to 0>><<set $leftactiondefault to "handpullpenis">>
			<<personselect $lefttarget>><<set $_handPullDifficulty to 1000>>
		<<else>>
			<<set $rightaction to 0>><<set $rightactiondefault to "handpullpenis">>
			<<personselect $righttarget>><<set $_handPullDifficulty to 1000>>
		<</if>>
		<<brat 1>>

		<<if combatSkillCheck("hand", _n, $_handPullDifficulty)>>
			당신은 <<combatpersons_ yi>> 손목을 잡고,
			<<if $penisstate is "otherhand">>
				<span class="green"><<his_ yi>> 손가락을 당신의 <<penisPost>>에서 비틀어 떼어낸다.</span>
			<<else>>
				<span class="green">당신의 사타구니에서 떼어낸다.</span>
			<</if>>

			<<if $NPCList[_n].lefthand and $NPCList[_n].lefthand.startsWith("penis")>>
				<<combat-reset-hand "left">>
			<<else>>
				<<combat-reset-hand "right">>
			<</if>>
			<<set $penisuse to 0>><<set $penisstate to 0>>
		<<else>>
			당신은 <<combatpersons_ yi>> 손목을 잡으려 하지만,
			<<if $penisstate is "otherhand">>
				<span class="red"><<he_ nun>> 그 보복으로 <<his_ yi>> 손아귀에 힘을 더 준다.</span>
			<<else>>
				<span class="red"><<he_ nun>> 당신의 손을 찰싹 쳐 내고 쓰다듬기를 계속한다.</span>
			<</if>>
			<<if $consensual is 1>>
				<<set $consensual to 0>><<molested>><<controlloss>>
			<</if>>
			<<violence 1>>
		<</if>>
	<</if>>

	<<if $leftaction is "handpullvagina" or $rightaction is "handpullvagina">>
		<<if $leftaction is "handpullvagina" and $rightaction is "handpullvagina">>
			<<set $leftaction to 0>><<set $leftactiondefault to "handpullvagina">>
			<<set $rightaction to 0>><<set $rightactiondefault to "handpullvagina">>
			<<personselect $lefttarget>><<set $_handPullDifficulty to 500>>
		<<elseif $leftaction is "handpullvagina">>
			<<set $leftaction to 0>><<set $leftactiondefault to "handpullvagina">>
			<<personselect $lefttarget>><<set $_handPullDifficulty to 1000>>
		<<else>>
			<<set $rightaction to 0>><<set $rightactiondefault to "handpullvagina">>
			<<personselect $righttarget>><<set $_handPullDifficulty to 1000>>
		<</if>>
		<<brat 1>>

		<<if combatSkillCheck("hand", _n, $_handPullDifficulty)>>
			당신은 <<combatpersons_ yi>> 손목을 잡고,
			<<if $vaginastate is "otherhand">>
				<span class="green"><<his_ yi>> 손가락을 당신의 <<pussyPost>>에서 비틀어 빼낸다.</span>
			<<else>>
				<span class="green">당신의 사타구니에서 떼어낸다.</span>
			<</if>>

			<<if $NPCList[_n].lefthand and $NPCList[_n].lefthand.startsWith("vagina")>>
				<<combat-reset-hand "left">>
			<<else>>
				<<combat-reset-hand "right">>
			<</if>>
			<<set $vaginause to 0>><<set $vaginastate to 0>>
		<<else>>
			당신은 <<combatpersons_ yi>> 손목을 잡으려 하지만,
			<<if $vaginastate is "otherhand">>
				<span class="red"><<he_ nun>> 그 보복으로 <<his_ yi>> 손가락을 더 깊숙이 집어넣는다.</span>
			<<else>>
				<span class="red"><<he_ nun>> 당신의 손을 찰싹 쳐 내고 쓰다듬기를 계속한다.</span>
			<</if>>
			<<if $consensual is 1>>
				<<set $consensual to 0>><<molested>><<controlloss>>
			<</if>>
			<<violence 1>>
		<</if>>
	<</if>>

	<<if $leftaction is "handpullanus" or $rightaction is "handpullanus">>
		<<if $leftaction is "handpullanus" and $rightaction is "handpullanus">>
			<<set $leftaction to 0>><<set $leftactiondefault to "handpullanus">>
			<<set $rightaction to 0>><<set $rightactiondefault to "handpullanus">>
			<<personselect $lefttarget>><<set $_handPullDifficulty to 500>>
		<<elseif $leftaction is "handpullanus">>
			<<set $leftaction to 0>><<set $leftactiondefault to "handpullanus">>
			<<personselect $lefttarget>><<set $_handPullDifficulty to 1000>>
		<<else>>
			<<set $rightaction to 0>><<set $rightactiondefault to "handpullanus">>
			<<personselect $righttarget>><<set $_handPullDifficulty to 1000>>
		<</if>>
		<<brat 1>>

		<<if combatSkillCheck("hand", _n, $_handPullDifficulty)>>
			당신은 <<combatpersons_ yi>> 손목을 잡고,
			<<if $anusstate is "otherhand">>
				<span class="green"><<his_ yi>> 손가락을 당신의 똥구멍에서 비틀어 빼낸다.</span>
			<<else>>
				<span class="green">당신의 <<bottomPost>>에서 떼어낸다.</span>
			<</if>>

			<<if $NPCList[_n].lefthand and $NPCList[_n].lefthand.startsWith("anus")>>
				<<combat-reset-hand "left">>
			<<else>>
				<<combat-reset-hand "right">>
			<</if>>
			<<set $anususe to 0>><<set $anusstate to 0>>
		<<else>>
			당신은 <<combatpersons_ yi>> 손목을 잡으려 하지만,
			<<if $anusstate is "otherhand">>
				<span class="red"><<he_ nun>> 그 보복으로 <<his_ yi>> 손가락을 더 깊숙이 집어넣는다.</span>
			<<else>>
				<span class="red"><<he_ nun>> 당신의 손을 찰싹 쳐 내고 쓰다듬기를 계속한다.</span>
			<</if>>
			<<if $consensual is 1>>
				<<set $consensual to 0>><<molested>><<controlloss>>
			<</if>>
			<<violence 1>>
		<</if>>
	<</if>>
<</widget>>

<<widget "hand_section">>
	<!-- This widget is for NPC hands. -->

	<!-- Section for widgets that have special output when both hands are performing the same action. -->
	<!-- These widgets should set _bothHandsUsed to true when they are done if you want them to only run once. -->
	<<if $NPCList[_n].lefthand is $NPCList[_n].righthand>>
		<<set $_bothHandsUsed to true>>
		<<switch $NPCList[_n].lefthand>>
			<<case "throat">> <<combat-hand-on-throat>>
			<<case "mask">> <<combat-hand-on-mask "both" "hands">>
			<<case "genitals">> <<combat-hand-on-chastity "both">>
			<<default>> <<set $_bothHandsUsed to false>>
		<</switch>>
	<</if>>

	<<if !$_bothHandsUsed>>
		<<if random(0,1) is 1>>
			<<hand_section_two "left">>
			<<hand_section_two "right">>
		<<else>>
			<<hand_section_two "right">>
			<<hand_section_two "left">>
		<</if>>
	<</if>>
<</widget>>

<<widget "hand_section_two">>
	<<rng>>
	<<set $_hand to _args[0]>>
	<<set $_npcHand to $NPCList[_n][$_hand + "hand"]>>

	<!-- Note for future coders: this is an EXCEPTION, because there are a LOT of pen_x states, and this is the best way to handle it. -->
	<!-- If you are adding new states, add them to the switch. Do your BEST to NOT ADD EXTRA CODE TO THIS WIDGET outside of the switch. -->
	<<if $_npcHand isnot 0 and $_npcHand.startsWith("pen_")>>
		<<set $_penbodypart to $_npcHand.slice(4)>>
		<<set $_npcHand to "pen_">>
	<</if>>

	<<switch $_npcHand>>
		<<case "none" "idle">>
		<<case "spank">> <<combat-spank $_hand>>
		<<case "handhold">> <<combat-hand-on-hand $_hand>>
		<<case "arms">> <<combat-hand-on-arms $_hand>>
		<<case "leftarm">> <<combat-hand-on-one-arm $_hand "left">>
		<<case "rightarm">> <<combat-hand-on-one-arm $_hand "right">>
		<<case "vaginaentrance">> <<combat-hand-on-vaginaentrance $_hand>>
		<<case "penisentrance">> <<combat-hand-on-penisentrance $_hand>>
		<<case "vagina">> <<combat-hand-on-vagina $_hand>>
		<<case "penis">> <<combat-hand-on-penis $_hand>>
		<<case "anusentrance">> <<combat-hand-on-anusentrance $_hand>>
		<<case "anus">> <<combat-hand-on-anus $_hand>>
		<<case "bottom">> <<combat-hand-on-bottom $_hand>>
		<<case "throat">> <<combat-hand-on-throat $_hand>>
		<<case "mouth">> <<combat-hand-on-mouth $_hand>>
		<<case "hair">> <<combat-hand-on-hair $_hand>>
		<<case "genitals">> <<combat-hand-on-chastity $_hand>>
		<<case "underlowerclothes">> <<combat-hand-on-clothes "under_lower" $_hand>>
		<<case "underupperclothes">> <<combat-hand-on-clothes "under_upper" $_hand>>
		<<case "lowerclothes">> <<combat-hand-on-clothes "lower" $_hand>>
		<<case "upperclothes">> <<combat-hand-on-clothes "upper" $_hand>>
		<<case "overlowerclothes">> <<combat-hand-on-clothes "over_lower" $_hand>>
		<<case "overupperclothes">> <<combat-hand-on-clothes "over_upper" $_hand>>
		<<case "head_nipples">> <<combat-hand-on-head_nipples $_hand>>
		<<case "head_breasts">> <<combat-hand-on-head_breasts $_hand>>
		<<case "mask">> <<combat-hand-on-mask $_hand "hand">>
		<<case "pen">> <<bodywriting_npc_bodypart $_hand $NPCList[_n][$_hand + "tool"]>>
		<<case "pen_">> <<combat-pen-on-bodypart $_hand $_penbodypart>>
		<<case "lube">> <<combat-hand-on-lube $_hand>>
		<<case "shoes">> <<combat-hand-on-shoes $_hand>>
		<<case "socks">> <<combat-hand-on-socks $_hand>>
		<<case "shackle_imminent">> <<combat-hand-on-shackle $_hand>>
		<<case "shackle_entrance">> <<combat-hand-on-shackle-imminent $_hand>>
		<<case "dildo_reveal">> <<combat-reveal-sextoy $_hand>>
		<<case "dildo">> <<combat-hand-on-sextoy $_hand>>
		<<case "stroker">> <<combat-stroker-on-penisentrance $_hand>>
		<<case "vaginadildo">> <<combat-dildo-on-vagina $_hand>>
		<<case "anusdildo">> <<combat-dildo-on-anus $_hand>>
		<<case "penisdildo">> <<combat-dildo-on-penis $_hand>>
		<<case "penisstroker">> <<combat-stroker-on-penis $_hand>>
		<<case "buttplug">> <<combat-hand-on-buttplug $_hand>>
		<<case "hypnosis">> <<combat-hand-hypnosis $_hand>>
		<<case "hypnosis_scream">> <<combat-hand-hypnosis-scream $_hand>>
		<<case "hypnosis_cover">> <<combat-hand-hypnosis-cover $_hand>>
		<<case "hypnosis_orgasm">> <<combat-hand-hypnosis-orgasm $_hand>>
		<<case "hypnosis_masochism">> <<combat-hand-hypnosis-masochism $_hand>>
		<<case 0>> <<combat-set-hand-start $_hand>>
		<<default>> <<run console.error("NPC hand action unaccounted for! Hand: " + $_hand + " Value: " + $_npcHand)>> <<run throw new Error("NPC hand action unaccounted for! Hand: " + $_hand + " Value: " + $_npcHand)>>
	<</switch>>

<</widget>>

<<widget "effectsremovebuttplug">>
	<<if ($worn.genitals.anal_shield is undefined or $worn.genitals.anal_shield is 0)>>
		<<if $leftaction is "removebuttplug" and playerHasButtPlug()>>
			<<set $leftaction to 0>>
			당신은 <<worn_butt_plug_name_ ul>> 빼내어, 당신의 항문을 드러낸다.
			<<set $worn.butt_plug.state to "removed">>

		<<elseif $rightaction is "removebuttplug" and playerHasButtPlug()>>
			<<set $rightaction to 0>>
			당신은 <<worn_butt_plug_name_ ul>> 빼내어, 당신의 항문을 드러낸다.
			<<set $worn.butt_plug.state to "removed">>
		<</if>>
	<</if>>
<</widget>>

<<widget "effectsPickupSexToy">>
	/* Start with a sex toy: Before combat do this: <<set $leftarm to "heldSexToy">><<set $currentSexToyLeft to clone(setup.sextoys[0])>> */
	/* That will effectively mimic this widget so that a player starts combat holding a dildo(setup.sextoys[0]) */
	<<if $leftaction is "pickupSexToy" and $rightaction is "pickupSexToy" and $selectedItemRight.name is $selectedItemLeft.name>>
			<<set $leftaction to 0>><<set $leftactiondefault to "rest">><<set $rightaction to 0>><<set $rightactiondefault to "rest">><<set $rightarm to "heldSexToy">>
			<<set $currentSexToyRight to $selectedItemRight>><<set $dildoreveal to 1>>
			당신은 <<sextoy_ rul $currentSexToyRight.name>> 꺼내 오른손으로 잡는다.
	<<else>>
		<<if $leftaction is "pickupSexToy" and $selectedItemLeft>>
			<<set $leftaction to 0>><<set $leftactiondefault to "rest">><<set $leftarm to "heldSexToy">>
			<<set $currentSexToyLeft to $selectedItemLeft>><<set $dildoreveal to 1>>
			당신은 <<sextoy_ rul $currentSexToyLeft.name>> 왼손으로 꺼낸다.
		<</if>>
		<<if $rightaction is "pickupSexToy" and $selectedItemRight>>
			<<set $rightaction to 0>><<set $rightactiondefault to "rest">><<set $rightarm to "heldSexToy">>
			<<set $currentSexToyRight to $selectedItemRight>><<set $dildoreveal to 1>>
			당신은 <<sextoy_ rul $currentSexToyRight.name>> 오른손으로 꺼낸다.
		<</if>>
	<</if>>

<</widget>>

<<widget "effectsDropSexToy">>
	<<if $leftaction is "dildoDrop" and $rightaction is "dildoDrop">>
			<<set $leftaction to 0>><<set $leftactiondefault to "rest">><<set $leftarm to 0>><<set $rightaction to 0>><<set $rightactiondefault to "rest">><<set $rightarm to 0>>
			당신은 섹스 장난감들을 내려놓는다.
			<<unset $currentSexToyLeft>><<unset $currentSexToyRight>>
	<<else>>
		<<if $leftaction is "dildoDrop">>
			<<set $leftaction to 0>><<set $leftactiondefault to "rest">><<set $leftarm to 0>>
			당신은 왼손의 <<sextoy_ rul $currentSexToyLeft.name>> 내려놓는다.
			<<unset $currentSexToyLeft>>
		<</if>>
		<<if $rightaction is "dildoDrop">>
			<<set $rightaction to 0>><<set $rightactiondefault to "rest">><<set $rightarm to 0>>
			당신은 오른손의 <<sextoy_ rul $currentSexToyRight.name>> 내려놓는다.
			<<unset $currentSexToyRight>>
		<</if>>
	<</if>>

	<<if $leftaction is "dildoDropLeft" and $rightaction is "dildoDropRight">>
			<<set $leftaction to 0>><<set $leftactiondefault to "rest">><<set $leftarm to 0>><<set $rightaction to 0>><<set $rightactiondefault to "rest">><<set $rightarm to 0>>
			당신은 섹스 장난감들을 내려놓는다.
			<<unset $currentSexToyLeft>><<unset $currentSexToyRight>>
			<<for $_i = 0; $_i lt $enemyno; $_i++>>
				<<if ["leftDildo","leftDildoTease"].includes($NPCList[$_i].vagina)>>
					<<set $NPCList[$_i].vagina to 0>>
				<</if>>
				<<if ["leftDildo","leftDildoTease"].includes($NPCList[$_i].penis)>>
					<<set $NPCList[$_i].penis to 0>>
				<</if>>
				<<if ["rightDildo","rightDildoTease"].includes($NPCList[$_i].vagina)>>
					<<set $NPCList[$_i].vagina to 0>>
				<</if>>
				<<if ["rightDildo","rightDildoTease"].includes($NPCList[$_i].penis)>>
					<<set $NPCList[$_i].penis to 0>>
				<</if>>
			<</for>>
	<<else>>
		<<if $leftaction is "dildoDropLeft">>
			<<set $leftaction to 0>><<set $leftactiondefault to "rest">><<set $leftarm to 0>>
			당신은 왼손의 <<sextoy_ rul $currentSexToyLeft.name>> 내려놓는다.
			<<unset $currentSexToyLeft>>
			<<for $_i = 0; $_i lt $enemyno; $_i++>>
				<<if $NPCList[$_i].vagina is "leftDildo">>
					<<set $NPCList[$_i].vagina to 0>>
				<</if>>
				<<if $NPCList[$_i].penis is "leftDildo">>
					<<set $NPCList[$_i].penis to 0>>
				<</if>>
			<</for>>
		<</if>>
		<<if $rightaction is "dildoDropRight">>
			<<set $rightaction to 0>><<set $rightactiondefault to "rest">><<set $rightarm to 0>>
			당신은 오른손의 <<sextoy_ rul $currentSexToyRight.name>> 내려놓는다.
			<<unset $currentSexToyRight>>
			<<for $_i = 0; $_i lt $enemyno; $_i++>>
				<<if $NPCList[$_i].vagina is "rightDildo">>
					<<set $NPCList[$_i].vagina to 0>>
				<</if>>
				<<if $NPCList[$_i].penis is "rightDildo">>
					<<set $NPCList[$_i].penis to 0>>
				<</if>>
			<</for>>
		<</if>>
	<</if>>

	<<if $leftaction is "dildoDropAnusLeft" and $rightaction is "dildoDropAnusRight">>
			<<set $leftaction to 0>><<set $leftactiondefault to "rest">><<set $leftarm to 0>><<set $rightaction to 0>><<set $rightactiondefault to "rest">><<set $rightarm to 0>>
			당신은 섹스 장난감들을 내려놓는다.
			<<unset $currentSexToyLeft>><<unset $currentSexToyRight>>
			<<for $_i = 0; $_i lt $enemyno; $_i++>>
				<<if ["leftDildoAnus","leftDildoAnusTease"].includes($NPCList[$_i].vagina)>>
					<<set $NPCList[$_i].vagina to 0>>
				<</if>>
				<<if ["leftDildoAnus","leftDildoAnusTease"].includes($NPCList[$_i].penis)>>
					<<set $NPCList[$_i].penis to 0>>
				<</if>>
				<<if ["rightDildoAnus","rightDildoAnusTease"].includes($NPCList[$_i].vagina)>>
					<<set $NPCList[$_i].vagina to 0>>
				<</if>>
				<<if ["rightDildoAnus","rightDildoAnusTease"].includes($NPCList[$_i].penis)>>
					<<set $NPCList[$_i].penis to 0>>
				<</if>>
			<</for>>
	<<else>>
		<<if ["dildoDropAnusLeft","dildoDropAnusTeaseLeft"].includes($leftaction)>>
			<<set $leftaction to 0>><<set $leftactiondefault to "rest">><<set $leftarm to 0>>
			당신은 왼손의 <<sextoy_ rul $currentSexToyLeft.name>> 내려놓는다.
			<<unset $currentSexToyLeft>>
			<<for $_i = 0; $_i lt $enemyno; $_i++>>
				<<if ["leftDildoAnus","leftDildoAnusTease"].includes($NPCList[$_i].vagina)>>
					<<set $NPCList[$_i].vagina to 0>>
				<</if>>
				<<if ["leftDildoAnus","leftDildoAnusTease"].includes($NPCList[$_i].penis)>>
					<<set $NPCList[$_i].penis to 0>>
				<</if>>
			<</for>>
		<</if>>
		<<if ["dildoDropAnusRight","dildoDropAnusTeaseRight"].includes($rightaction)>>
			<<set $rightaction to 0>><<set $rightactiondefault to "rest">><<set $rightarm to 0>>
			당신은 오른손의 <<sextoy_ rul $currentSexToyRight.name>> 내려놓는다.
			<<unset $currentSexToyRight>>
			<<for $_i = 0; $_i lt $enemyno; $_i++>>
				<<if ["rightDildoAnus","rightDildoAnusTease"].includes($NPCList[$_i].vagina)>>
					<<set $NPCList[$_i].vagina to 0>>
				<</if>>
				<<if ["rightDildoAnus","rightDildoAnusTease"].includes($NPCList[$_i].penis)>>
					<<set $NPCList[$_i].penis to 0>>
				<</if>>
			<</for>>
		<</if>>
	<</if>>

	<<if $leftaction is "strokerDropLeft" and $rightaction is "strokerDropRight">>
			<<set $leftaction to 0>><<set $leftactiondefault to "rest">><<set $leftarm to 0>><<set $rightaction to 0>><<set $rightactiondefault to "rest">><<set $rightarm to 0>>
			당신은 섹스 장난감들을 내려놓는다.
			<<unset $currentSexToyLeft>><<unset $currentSexToyRight>>
			<<for $_i = 0; $_i lt $enemyno; $_i++>>
				<<if ["leftStroker","leftStrokerTease"].includes($NPCList[$_i].vagina)>>
					<<set $NPCList[$_i].vagina to 0>>
				<</if>>
				<<if ["leftStroker","leftStrokerTease"].includes($NPCList[$_i].penis)>>
					<<set $NPCList[$_i].penis to 0>>
				<</if>>
				<<if ["rightStroker","rightStrokerTease"].includes($NPCList[$_i].vagina)>>
					<<set $NPCList[$_i].vagina to 0>>
				<</if>>
				<<if ["rightStroker","rightStrokerTease"].includes($NPCList[$_i].penis)>>
					<<set $NPCList[$_i].penis to 0>>
				<</if>>
			<</for>>
	<<else>>
		<<if $leftaction is "strokerDropLeft">>
			<<set $leftaction to 0>><<set $leftactiondefault to "rest">><<set $leftarm to 0>>
			당신은 왼손의 <<sextoy_ rul $currentSexToyLeft.name>> 내려놓는다.
			<<unset $currentSexToyLeft>>
			<<for $_i = 0; $_i lt $enemyno; $_i++>>
				<<if $NPCList[$_i].vagina is "leftStroker">>
					<<set $NPCList[$_i].vagina to 0>>
				<</if>>
				<<if $NPCList[$_i].penis is "leftStroker">>
					<<set $NPCList[$_i].penis to 0>>
				<</if>>
			<</for>>
			<<if $penisuse is "strokerSelfPenis">>
				<<set $penisuse to 0>><<set $penisstate to 0>>
			<</if>>
		<</if>>
		<<if $rightaction is "strokerDropRight">>
			<<set $rightaction to 0>><<set $rightactiondefault to "rest">><<set $rightarm to 0>>
			당신은 오른손의 <<sextoy_ rul $currentSexToyRight.name>> 내려놓는다.
			<<unset $currentSexToyRight>>
			<<for $_i = 0; $_i lt $enemyno; $_i++>>
				<<if $NPCList[$_i].vagina is "rightStroker">>
					<<set $NPCList[$_i].vagina to 0>>
				<</if>>
				<<if $NPCList[$_i].penis is "rightStroker">>
					<<set $NPCList[$_i].penis to 0>>
				<</if>>
			<</for>>
			<<if $penisuse is "strokerSelfPenis">>
				<<set $penisuse to 0>><<set $penisstate to 0>>
			<</if>>
		<</if>>
	<</if>>
<</widget>>